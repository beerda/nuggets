<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert columns of data frame to Boolean or fuzzy sets (of triangular, trapezoidal, or raised-cosinal shape) — partition • nuggets</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert columns of data frame to Boolean or fuzzy sets (of triangular, trapezoidal, or raised-cosinal shape) — partition"><meta name="description" content="Convert the selected columns of the data frame into either dummy
logical columns, or into membership degrees of fuzzy sets, while leaving
the remaining columns untouched. Each column selected for transformation
typically results in multiple columns in the output."><meta property="og:description" content="Convert the selected columns of the data frame into either dummy
logical columns, or into membership degrees of fuzzy sets, while leaving
the remaining columns untouched. Each column selected for transformation
typically results in multiple columns in the output."><meta property="og:image" content="https://beerda.github.io/nuggets/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nuggets</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/nuggets.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/beerda/nuggets/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Convert columns of data frame to Boolean or fuzzy sets (of triangular, trapezoidal, or raised-cosinal shape)</h1>
      <small class="dont-index">Source: <a href="https://github.com/beerda/nuggets/blob/main/R/partition.R" class="external-link"><code>R/partition.R</code></a></small>
      <div class="d-none name"><code>partition.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Convert the selected columns of the data frame into either dummy
logical columns, or into membership degrees of fuzzy sets, while leaving
the remaining columns untouched. Each column selected for transformation
typically results in multiple columns in the output.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">partition</span><span class="op">(</span></span>
<span>  <span class="va">.data</span>,</span>
<span>  .what <span class="op">=</span> <span class="fu">everything</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  .breaks <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .labels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .na <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .keep <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .method <span class="op">=</span> <span class="st">"crisp"</span>,</span>
<span>  .right <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .span <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  .inc <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--data">.data<a class="anchor" aria-label="anchor" href="#arg--data"></a></dt>
<dd><p>the data frame to be processed</p></dd>


<dt id="arg--what">.what<a class="anchor" aria-label="anchor" href="#arg--what"></a></dt>
<dd><p>a tidyselect expression (see
<a href="https://tidyselect.r-lib.org/articles/syntax.html" class="external-link">tidyselect syntax</a>)
specifying the columns to be transformed</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>optional other tidyselect expressions selecting additional
columns to be processed</p></dd>


<dt id="arg--breaks">.breaks<a class="anchor" aria-label="anchor" href="#arg--breaks"></a></dt>
<dd><p>this argument is ignored if <code>.method="dummy"</code>. For other
methods, it has to be either an integer scalar
or a numeric vector. If <code>.breaks</code> is an integer scalar, it specifies
the number of resulting intervals to break the numeric column to
(for <code>.method="crisp"</code>) or the number of target fuzzy sets (for
<code>.method="triangle"</code> or <code>.method="raisedcos</code>). If <code>.breaks</code> is a vector,
the values specify the borders of intervals (for <code>.method="crisp"</code>)
or the breaking points of fuzzy sets.</p></dd>


<dt id="arg--labels">.labels<a class="anchor" aria-label="anchor" href="#arg--labels"></a></dt>
<dd><p>character vector specifying the names used to construct
the newly created column names. If <code>NULL</code>, the labels are generated
automatically.</p></dd>


<dt id="arg--na">.na<a class="anchor" aria-label="anchor" href="#arg--na"></a></dt>
<dd><p>if <code>TRUE</code>, an additional logical column is created for each
source column that contains <code>NA</code> values. For column named <code>x</code>, the
newly created column's name will be <code>x=NA</code>.</p></dd>


<dt id="arg--keep">.keep<a class="anchor" aria-label="anchor" href="#arg--keep"></a></dt>
<dd><p>if <code>TRUE</code>, the original columns being transformed remain
present in the resulting data frame.</p></dd>


<dt id="arg--method">.method<a class="anchor" aria-label="anchor" href="#arg--method"></a></dt>
<dd><p>The method of transformation for numeric columns. Either
<code>"crisp"</code>, <code>"triangle"</code>, or <code>"raisedcos"</code> is required.</p></dd>


<dt id="arg--right">.right<a class="anchor" aria-label="anchor" href="#arg--right"></a></dt>
<dd><p>If <code>.method="crisp"</code>, this argument specifies if the
intervals should be closed on the right (and open on the left) or
vice versa.</p></dd>


<dt id="arg--span">.span<a class="anchor" aria-label="anchor" href="#arg--span"></a></dt>
<dd><p>The span of the intervals for numeric columns. If <code>.method="crisp"</code>,
this argument specifies the number of consecutive breaks in a single
resulting interval. If <code>.method="triangle"</code> or <code>.method="raisedcos"</code>,
this argument specifies the number of breaks that should form the
core of the fuzzy set, (i.e. where the membership degrees are 1). For
<code>.span = 1</code>, the fuzzy set has a triangular shape with only a single
value with membership equal to 1, for <code>.span = 2</code>, the fuzzy set has
a trapezoidal shape.</p></dd>


<dt id="arg--inc">.inc<a class="anchor" aria-label="anchor" href="#arg--inc"></a></dt>
<dd><p>how many breaks to move on to the right when creating the next
column from a numeric column in <code>x</code>. In other words, if <code>.inc = 1</code>,
all resulting columns are created (by shifting breaks by 1), if
<code>.inc = 2</code>, the first, third, fifth, etc. columns are created, i.e.,
every second resulting column is skipped.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble created by transforming <code>.data</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Transformations performed by this function are typically useful as a
preprocessing step before using the <code><a href="dig.html">dig()</a></code> function or some of its
derivatives (<code><a href="dig_correlations.html">dig_correlations()</a></code>, <code><a href="dig_paired_baseline_contrasts.html">dig_paired_baseline_contrasts()</a></code>,
<code><a href="dig_associations.html">dig_associations()</a></code>).</p>
<p>The transformation of selected columns differ based on the type. Concretely:</p><ul><li><p><strong>logical</strong> column <code>x</code> is transformed into pair of logical columns,
<code>x=TRUE</code> and<code>x=FALSE</code>;</p></li>
<li><p><strong>factor</strong> column <code>x</code>, which has levels <code>l1</code>, <code>l2</code>, and <code>l3</code>, is transformed
into three logical columns named <code>x=l1</code>, <code>x=l2</code>, and <code>x=l3</code>;</p></li>
<li><p><strong>numeric</strong> column<code>x</code> is transformed accordingly to <code>.method</code> argument:</p><ul><li><p>if <code>.method="dummy"</code>, the numeric column is first transformed into a factor
by treating each unique value as a separate factor level and then it is
processed as a factor (see above). That effectively creates a logical column
for each unique value in the source numeric column;</p></li>
<li><p>if <code>.method="crisp"</code>, the column is first transformed into a factor
with intervals as factor levels and then it is processed as a factor
(see above);</p></li>
<li><p>for other <code>.method</code> (<code>triangle</code> or <code>raisedcos</code>), several new columns
are created, where each column has numeric values from the interval
\([0,1]\) and represents a certain fuzzy set (either triangular or
raised-cosinal).
Details of transformation of numeric columns can be specified with
additional arguments (<code>.breaks</code>, <code>.labels</code>, <code>.right</code>).</p></li>
</ul></li>
</ul><p>The processing of source <strong>numeric</strong> columns is quite complex and depends
on the following arguments: <code>.method</code>, <code>.breaks</code>, <code>.right</code>, <code>.span</code>, and
<code>.inc</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="crisp-transformation-of-numeric-data">Crisp transformation of numeric data<a class="anchor" aria-label="anchor" href="#crisp-transformation-of-numeric-data"></a></h2>



<p>For <code>.method = "crisp"</code>, the numeric column is transformed into a set of
logical columns where each column represents a certain interval of values.
The intervals are determined by the <code>.breaks</code> argument.</p>
<p>If <code>.breaks</code> is an integer scalar, it specifies the number of resulting
intervals to break the numeric column to. The intervals are obtained
automatically from the source column by splitting the range of the source
values into <code>.breaks</code> intervals of equal length. The first and the last
interval are defined from the minimum infinity to the first break and from
the last break to the maximum infinity, respectively.</p>
<p>If <code>.breaks</code> is a vector, the values specify the manual borders of intervals.
(Infinite values are allowed.)</p>
<p>For <code>.span = 1</code> and <code>.inc = 1</code>, the intervals are consecutive and
non-overlapping. If <code>.breaks = c(1, 3, 5, 7, 9, 11)</code> and <code>.right = TRUE</code>,
for example, the following intervals are considered: \((1;3]\), \((3;5]\),
\((5;7]\), \((7;9]\), and \((9;11]\). (If <code>.right = FALSE</code>, the intervals are:
\([1;3)\), \([3;5)\), \([5;7)\), \([7;9)\), and \([9;11)\).)</p>
<p>For <code>.span</code> &gt; 1, the intervals overlap in <code>.span</code> breaks. For
<code>.span = 2</code>, <code>.inc = 1</code>, and <code>.right = TRUE</code>, the intervals are: \((1;5]\),
\((3;7]\), \((5;9]\), and \((7;11]\).</p>
<p>As can be seen, so far the next interval was created by shifting in 1
position in <code>.breaks</code>. The <code>.inc</code> argument modifies that shift. If <code>.inc = 2</code>
and <code>.span = 1</code>, the intervals are: \((1;3]\), \((5;7]\), and \((9;11]\).
For <code>.span = 2</code> and <code>.inc = 3</code>, the intervals are: \((1;5]\), and \((9;11]\).</p>
    </div>
    <div class="section level2">
    <h2 id="fuzzy-transformation-of-numeric-data">Fuzzy transformation of numeric data<a class="anchor" aria-label="anchor" href="#fuzzy-transformation-of-numeric-data"></a></h2>



<p>For <code>.method = "triangle"</code> or <code>.method = "raisedcos"</code>, the numeric column is
transformed into a set of columns where each column represents membership
degrees to a certain fuzzy set. The shape of the underlying fuzzy sets
is again determined by the <code>.breaks</code> argument.</p>
<p>If <code>.breaks</code> is an integer scalar, it specifies the number of target fuzzy
sets. The breaks are determined automatically from the source data column
similarly as in the crisp transformation described above.</p>
<p>If <code>.breaks</code> is a vector, the values specify the breaking points of fuzzy sets.
Infinite values as breaks produce fuzzy sets with open borders.</p>
<p>For <code>.span = 1</code>, each underlying fuzzy set is determined by three consecutive
breaks. Outside of these breaks, the membership degree is 0. In the interval
between the first two breaks, the membership degree is increasing and
in the interval between the last two breaks, the membership degree is
decreasing. Hence the membership degree 1 is obtained for values equal to
the middle break. This practically forms fuzzy sets of triangular or
raised-cosinal shape.</p>
<p>For <code>.span</code> &gt; 1, the fuzzy set is determined by four breaks. Outside of
these breaks, the membership degree is 0. In the interval between the first
and the second break, the membership degree is increasing, in the interval
between the third and the fourth break, the membership degree is decreasing,
and in the interval between the second and the third break, the membership
degree is 1. This practically forms fuzzy sets of trapezoidal shape.</p>
<p>Similar to the crisp transformation, the <code>.inc</code> argument determines the
shift of breaks when creating the next underlying fuzzy set.</p>
<p>Let <code>.breaks = c(1, 3, 5, 7, 9, 11)</code>. For <code>.span = 1</code> and <code>.inc = 1</code>, the
fuzzy sets are determined by the following triplets having effectively the
triangular or raised-cosinal shape: \((1;3;5)\),
\((3;5;7)\), \((5;7;9)\), and \((7;9;11)\).</p>
<p>For <code>.span = 2</code> and <code>.inc = 1</code>, the fuzzy sets are determined by the following
quadruplets: \((1;3;5;7)\), \((3;5;7;9)\), and \((5;7;9;11)\). These
fuzzy sets have the trapezoidal shape with linear (if <code>.method = "triangle"</code>)
or cosine (if <code>.method = "raisedcos"</code>) increasing and decreasing border-parts.</p>
<p>For <code>.span = 1</code> and <code>.inc = 3</code>, the fuzzy sets are determined by the following
triplets: \((1;3;5)\), and \((7;9;11)\) while skipping 2nd and 3rd fuzzy
sets.</p>
<p>See the examples for more details.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Michal Burda</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># transform logical columns and factors</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                b <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"A"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                c <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">partition</span><span class="op">(</span><span class="va">d</span>, <span class="va">a</span>, <span class="va">b</span>, <span class="va">c</span>, .method <span class="op">=</span> <span class="st">"dummy"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `a=T` `a=F` `b=A` `b=B` `c=1` `c=2` `c=3`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> TRUE  FALSE TRUE  FALSE TRUE  FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> TRUE  FALSE FALSE TRUE  FALSE TRUE  FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> FALSE TRUE  TRUE  FALSE FALSE FALSE TRUE </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># transform numeric columns to logical columns (crisp transformation)</span></span></span>
<span class="r-in"><span><span class="fu">partition</span><span class="op">(</span><span class="va">CO2</span>, <span class="va">conc</span><span class="op">:</span><span class="va">uptake</span>, .method <span class="op">=</span> <span class="st">"crisp"</span>, .breaks <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 84 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Plant Type   Treatment  `conc=(-Inf;397]` `conc=(397;698]` `conc=(698;Inf]`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> Qn1   Quebec nonchilled TRUE              FALSE            FALSE           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> Qn1   Quebec nonchilled TRUE              FALSE            FALSE           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> Qn1   Quebec nonchilled TRUE              FALSE            FALSE           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> Qn1   Quebec nonchilled TRUE              FALSE            FALSE           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> Qn1   Quebec nonchilled FALSE             TRUE             FALSE           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> Qn1   Quebec nonchilled FALSE             TRUE             FALSE           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> Qn1   Quebec nonchilled FALSE             FALSE            TRUE            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> Qn2   Quebec nonchilled TRUE              FALSE            FALSE           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> Qn2   Quebec nonchilled TRUE              FALSE            FALSE           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> Qn2   Quebec nonchilled TRUE              FALSE            FALSE           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 74 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 3 more variables: `uptake=(-Inf;20.3]` &lt;lgl&gt;, `uptake=(20.3;32.9]` &lt;lgl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   `uptake=(32.9;Inf]` &lt;lgl&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># transform numeric columns to triangular fuzzy sets:</span></span></span>
<span class="r-in"><span><span class="fu">partition</span><span class="op">(</span><span class="va">CO2</span>, <span class="va">conc</span><span class="op">:</span><span class="va">uptake</span>, .method <span class="op">=</span> <span class="st">"triangle"</span>, .breaks <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 84 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Plant Type   Treatment  `conc=(-Inf;95;548)` `conc=(95;548;1000)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> Qn1   Quebec nonchilled                1                    0    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> Qn1   Quebec nonchilled                0.823                0.177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> Qn1   Quebec nonchilled                0.658                0.342</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> Qn1   Quebec nonchilled                0.437                0.563</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> Qn1   Quebec nonchilled                0.106                0.894</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> Qn1   Quebec nonchilled                0                    0.719</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> Qn1   Quebec nonchilled                0                    0    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> Qn2   Quebec nonchilled                1                    0    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> Qn2   Quebec nonchilled                0.823                0.177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> Qn2   Quebec nonchilled                0.658                0.342</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 74 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 4 more variables: `conc=(548;1000;Inf)` &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   `uptake=(-Inf;7.7;26.6)` &lt;dbl&gt;, `uptake=(7.7;26.6;45.5)` &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   `uptake=(26.6;45.5;Inf)` &lt;dbl&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># transform numeric columns to raised-cosinal fuzzy sets</span></span></span>
<span class="r-in"><span><span class="fu">partition</span><span class="op">(</span><span class="va">CO2</span>, <span class="va">conc</span><span class="op">:</span><span class="va">uptake</span>, .method <span class="op">=</span> <span class="st">"raisedcos"</span>, .breaks <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 84 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Plant Type   Treatment  `conc=(-Inf;95;548)` `conc=(95;548;1000)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> Qn1   Quebec nonchilled               1                    0     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> Qn1   Quebec nonchilled               0.925                0.075<span style="text-decoration: underline;">0</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> Qn1   Quebec nonchilled               0.738                0.262 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> Qn1   Quebec nonchilled               0.402                0.598 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> Qn1   Quebec nonchilled               0.027<span style="text-decoration: underline;">4</span>               0.973 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> Qn1   Quebec nonchilled               0                    0.818 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> Qn1   Quebec nonchilled               0                    0     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> Qn2   Quebec nonchilled               1                    0     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> Qn2   Quebec nonchilled               0.925                0.075<span style="text-decoration: underline;">0</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> Qn2   Quebec nonchilled               0.738                0.262 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 74 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 4 more variables: `conc=(548;1000;Inf)` &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   `uptake=(-Inf;7.7;26.6)` &lt;dbl&gt;, `uptake=(7.7;26.6;45.5)` &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   `uptake=(26.6;45.5;Inf)` &lt;dbl&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># transform numeric columns to trapezoidal fuzzy sets overlapping in non-core</span></span></span>
<span class="r-in"><span><span class="co"># regions so that the membership degrees sum to 1 along the consecutive fuzzy sets</span></span></span>
<span class="r-in"><span><span class="co"># (i.e., the so-called Ruspini condition is met)</span></span></span>
<span class="r-in"><span><span class="fu">partition</span><span class="op">(</span><span class="va">CO2</span>, <span class="va">conc</span><span class="op">:</span><span class="va">uptake</span>, .method <span class="op">=</span> <span class="st">"triangle"</span>, .breaks <span class="op">=</span> <span class="fl">3</span>, .span <span class="op">=</span> <span class="fl">2</span>, .inc <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 84 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Plant Type   Treatment  `conc=(-Inf;95;276;457)` `conc=(276;457;638;819)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> Qn1   Quebec nonchilled                    1                        0    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> Qn1   Quebec nonchilled                    1                        0    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> Qn1   Quebec nonchilled                    1                        0    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> Qn1   Quebec nonchilled                    0.591                    0.409</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> Qn1   Quebec nonchilled                    0                        1    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> Qn1   Quebec nonchilled                    0                        0.796</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> Qn1   Quebec nonchilled                    0                        0    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> Qn2   Quebec nonchilled                    1                        0    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> Qn2   Quebec nonchilled                    1                        0    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> Qn2   Quebec nonchilled                    1                        0    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 74 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 4 more variables: `conc=(638;819;1000;Inf)` &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   `uptake=(-Inf;7.7;15.3;22.8)` &lt;dbl&gt;, `uptake=(15.3;22.8;30.4;37.9)` &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   `uptake=(30.4;37.9;45.5;Inf)` &lt;dbl&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># complex transformation with different settings for each column</span></span></span>
<span class="r-in"><span><span class="va">CO2</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>    <span class="fu">partition</span><span class="op">(</span><span class="va">Plant</span><span class="op">:</span><span class="va">Treatment</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>    <span class="fu">partition</span><span class="op">(</span><span class="va">conc</span>,</span></span>
<span class="r-in"><span>              .method <span class="op">=</span> <span class="st">"raisedcos"</span>,</span></span>
<span class="r-in"><span>              .breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="cn">Inf</span>, <span class="fl">95</span>, <span class="fl">175</span>, <span class="fl">350</span>, <span class="fl">675</span>, <span class="fl">1000</span>, <span class="cn">Inf</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>    <span class="fu">partition</span><span class="op">(</span><span class="va">uptake</span>,</span></span>
<span class="r-in"><span>              .method <span class="op">=</span> <span class="st">"triangle"</span>,</span></span>
<span class="r-in"><span>              .breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="cn">Inf</span>, <span class="fl">7.7</span>, <span class="fl">28.3</span>, <span class="fl">45.5</span>, <span class="cn">Inf</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>              .labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"low"</span>, <span class="st">"medium"</span>, <span class="st">"high"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 84 × 24</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    `Plant=Qn1` `Plant=Qn2` `Plant=Qn3` `Plant=Qc1` `Plant=Qc3` `Plant=Qc2`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> TRUE        FALSE       FALSE       FALSE       FALSE       FALSE      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> TRUE        FALSE       FALSE       FALSE       FALSE       FALSE      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> TRUE        FALSE       FALSE       FALSE       FALSE       FALSE      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> TRUE        FALSE       FALSE       FALSE       FALSE       FALSE      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> TRUE        FALSE       FALSE       FALSE       FALSE       FALSE      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> TRUE        FALSE       FALSE       FALSE       FALSE       FALSE      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> TRUE        FALSE       FALSE       FALSE       FALSE       FALSE      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> FALSE       TRUE        FALSE       FALSE       FALSE       FALSE      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> FALSE       TRUE        FALSE       FALSE       FALSE       FALSE      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> FALSE       TRUE        FALSE       FALSE       FALSE       FALSE      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 74 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 18 more variables: `Plant=Mn3` &lt;lgl&gt;, `Plant=Mn2` &lt;lgl&gt;, `Plant=Mn1` &lt;lgl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   `Plant=Mc2` &lt;lgl&gt;, `Plant=Mc3` &lt;lgl&gt;, `Plant=Mc1` &lt;lgl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   `Type=Quebec` &lt;lgl&gt;, `Type=Mississippi` &lt;lgl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   `Treatment=nonchilled` &lt;lgl&gt;, `Treatment=chilled` &lt;lgl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   `conc=(-Inf;95;175)` &lt;dbl&gt;, `conc=(95;175;350)` &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   `conc=(175;350;675)` &lt;dbl&gt;, `conc=(350;675;1000)` &lt;dbl&gt;, …</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michal Burda.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>


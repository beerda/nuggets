<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Add additional interest measures for association rules — add_interest.associations • nuggets</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Add additional interest measures for association rules — add_interest.associations"><meta name="description" content="
This function calculates various additional interest measures for
association rules based on their contingency table counts."><meta property="og:description" content="
This function calculates various additional interest measures for
association rules based on their contingency table counts."><meta property="og:image" content="https://beerda.github.io/nuggets/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nuggets</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/nuggets.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/data-preparation.html">Data Preparation</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/beerda/nuggets/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Add additional interest measures for association rules</h1>
      <small class="dont-index">Source: <a href="https://github.com/beerda/nuggets/blob/v2.1.0/R/add_interest-associations.R" class="external-link"><code>R/add_interest-associations.R</code></a>, <a href="https://github.com/beerda/nuggets/blob/v2.1.0/R/add_interest.R" class="external-link"><code>R/add_interest.R</code></a></small>
      <div class="d-none name"><code>add_interest.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>This function calculates various additional interest measures for
association rules based on their contingency table counts.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'associations'</span></span>
<span><span class="fu">add_interest</span><span class="op">(</span><span class="va">x</span>, measures <span class="op">=</span> <span class="cn">NULL</span>, smooth_counts <span class="op">=</span> <span class="fl">0</span>, p <span class="op">=</span> <span class="fl">0.5</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">add_interest</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A nugget of flavour <code>associations</code>, typically created with
<code><a href="dig_associations.html">dig_associations()</a></code> with argument <code>contingency_table = TRUE</code>.</p></dd>


<dt id="arg-measures">measures<a class="anchor" aria-label="anchor" href="#arg-measures"></a></dt>
<dd><p>A character vector specifying which interest measures to
calculate. If <code>NULL</code> (the default), all supported measures are calculated.
See the Details section for the list of supported measures.</p></dd>


<dt id="arg-smooth-counts">smooth_counts<a class="anchor" aria-label="anchor" href="#arg-smooth-counts"></a></dt>
<dd><p>A non-negative numeric value specifying the amount of
Laplace smoothing to apply to the contingency table counts before
calculating the interest measures. Default is <code>0</code> (no smoothing).
Positive values add the specified amount to each of the counts
(<code>pp</code>, <code>pn</code>, <code>np</code>, <code>nn</code>), which can help avoid issues with undefined measures
due to zero counts. Use <code>smooth_counts = 1</code> for standard Laplace smoothing.
Use <code>smooth_counts = 0.5</code> for Haldane-Anscombe smoothing, which is
often used for odds ratio estimation and in chi-squared tests.</p></dd>


<dt id="arg-p">p<a class="anchor" aria-label="anchor" href="#arg-p"></a></dt>
<dd><p>A numeric value in the range <code>[0, 1]</code> representing the conditional
probability of the consequent being true given that the antecedent is
true. This parameter is used in the calculation of GUHA quantifiers
<code>"lci"</code>, <code>"uci"</code>, <code>"dlci"</code>, <code>"duci"</code>, <code>"lce"</code>, and <code>"uce"</code>.
The default value is <code>0.5</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Currently unused.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An S3 object which is an instance of <code>associations</code> and <code>nugget</code>
classes and which is a tibble containing all the columns of the input
nugget <code>x</code>, plus additional columns for each of the requested interest
measures.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The input nugget object must contain the columns
<code>pp</code> (positive antecedent &amp; positive consequent),
<code>pn</code> (positive antecedent &amp; negative consequent),
<code>np</code> (negative antecedent &amp; positive consequent), and
<code>nn</code> (negative antecedent &amp; negative consequent), representing the counts
from the contingency table. These columns are typically produced by
<code><a href="dig_associations.html">dig_associations()</a></code> when the <code>contingency_table</code> argument is set to <code>TRUE</code>.</p>
<p>The supported interest measures that can be calculated include:</p><ul><li><p>Founded GUHA (General Unary Hypothesis Automaton) quantifiers:</p><ul><li><p><code>"fi"</code> - <em>Founded Implication</em>, which equals to the <code>"confidence"</code> measure
calculated automatically by <code><a href="dig_associations.html">dig_associations()</a></code>.</p></li>
<li><p><code>"dfi"</code> - <em>Double Founded Implication</em> computed as \(pp / (pp + pn + np)\)</p></li>
<li><p><code>"fe"</code> - <em>Founded Equivalence</em> computed as \((pp + nn) / (pp + pn + np + nn)\)</p></li>
</ul></li>
<li><p>GUHA quantifiers based on binomial tests - these measures require the
additional parameter <code>p</code>, which represents the conditional probability of
the consequent being true given that the antecedent is true under the null
hypothesis. The measures are computed as one-sided p-values from the
Clopper-Pearson confidence interval for the binomial proportion:</p><ul><li><p><code>"lci"</code> - <em>Lower Critical Implication</em> computed as
\(\sum_{i=pp}^{pp+pn} \frac{(pp+pn)!}{i!(pp+pn-i)!} p^i (1-p)^{pp+pn-i}\)</p></li>
<li><p><code>"uci"</code> - <em>Upper Critical Implication</em> computed as
\(\sum_{i=0}^{pp} \frac{(pp+pn)!}{i!(pp+pn-i)!} p^i (1-p)^{pp+pn-i}\)</p></li>
<li><p><code>"dlci"</code> - <em>Double Lower Critical Implication</em> computed as
\(\sum_{i=pp}^{pp+pn+np} \frac{(pp+pn+np)!}{i!(pp+pn+np-i)!} p^i (1-p)^{pp+pn+np-i}\)</p></li>
<li><p><code>"duci"</code> - <em>Double Upper Critical Implication</em> computed as
\(\sum_{i=0}^{pp} \frac{(pp+pn+np)!}{i!(pp+pn+np-i)!} p^i (1-p)^{pp+pn+np-i}\)</p></li>
<li><p><code>"lce"</code> - <em>Lower Critical Equivalence</em> computed as
\(\sum_{i=pp}^{pp+pn+np+nn} \frac{(pp+pn+np+nn)!}{i!(pp+pn+np+nn-i)!} p^i (1-p)^{pp+pn+np+nn-i}\)</p></li>
<li><p><code>"uce"</code> - <em>Upper Critical Equivalence</em> computed as
\(\sum_{i=0}^{pp} \frac{(pp+pn+np+nn)!}{i!(pp+pn+np+nn-i)!} p^i (1-p)^{pp+pn+np+nn-i}\)</p></li>
</ul></li>
<li><p>measures adopted from the <code>arules</code> package:</p><ul><li><p><code>"added_value"</code> - <em>Added Value</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#addedvalue" class="external-link">https://mhahsler.github.io/arules/docs/measures#addedvalue</a> for details</p></li>
<li><p><code>"casual_confidence"</code> - <em>Casual Confidence</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#casualconfidence" class="external-link">https://mhahsler.github.io/arules/docs/measures#casualconfidence</a> for details</p></li>
<li><p><code>"casual_support"</code> - <em>Casual Support</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#casualsupport" class="external-link">https://mhahsler.github.io/arules/docs/measures#casualsupport</a> for details</p></li>
<li><p><code>"centered_confidence"</code> - <em>Centered Confidence</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#centeredconfidence" class="external-link">https://mhahsler.github.io/arules/docs/measures#centeredconfidence</a> for details</p></li>
<li><p><code>"certainty"</code> - <em>Certainty Factor</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#certainty" class="external-link">https://mhahsler.github.io/arules/docs/measures#certainty</a> for details</p></li>
<li><p><code>"collective_strength"</code> - <em>Collective Strength</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#collectivestrength" class="external-link">https://mhahsler.github.io/arules/docs/measures#collectivestrength</a> for details</p></li>
<li><p><code>"confirmed_confidence"</code> - <em>Descriptive Confirmed Confidence</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#confirmedconfidence" class="external-link">https://mhahsler.github.io/arules/docs/measures#confirmedconfidence</a> for details</p></li>
<li><p><code>"conviction"</code> - <em>Conviction</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#conviction" class="external-link">https://mhahsler.github.io/arules/docs/measures#conviction</a> for details</p></li>
<li><p><code>"cosine"</code> - <em>Cosine</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#cosine" class="external-link">https://mhahsler.github.io/arules/docs/measures#cosine</a> for details</p></li>
<li><p><code>"counterexample"</code> - <em>Example and Counter-Example Rate</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#counterexample" class="external-link">https://mhahsler.github.io/arules/docs/measures#counterexample</a> for details</p></li>
<li><p><code>"doc"</code> - <em>Difference of Confidence</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#doc" class="external-link">https://mhahsler.github.io/arules/docs/measures#doc</a> for details</p></li>
<li><p><code>"gini"</code> - <em>Gini Index</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#gini" class="external-link">https://mhahsler.github.io/arules/docs/measures#gini</a> for details</p></li>
<li><p><code>"imbalance"</code> - <em>Imbalance Ratio</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#imbalance" class="external-link">https://mhahsler.github.io/arules/docs/measures#imbalance</a> for details</p></li>
<li><p><code>"implication_index"</code> - <em>Implication Index</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#implicationindex" class="external-link">https://mhahsler.github.io/arules/docs/measures#implicationindex</a> for details</p></li>
<li><p><code>"importance"</code> - <em>Importance</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#importance" class="external-link">https://mhahsler.github.io/arules/docs/measures#importance</a> for details</p></li>
<li><p><code>"j_measure"</code> - <em>J-Measure</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#jmeasure" class="external-link">https://mhahsler.github.io/arules/docs/measures#jmeasure</a> for details</p></li>
<li><p><code>"jaccard"</code> - <em>Jaccard Coefficient</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#jaccard" class="external-link">https://mhahsler.github.io/arules/docs/measures#jaccard</a> for details</p></li>
<li><p><code>"kappa"</code> - <em>Kappa</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#kappa" class="external-link">https://mhahsler.github.io/arules/docs/measures#kappa</a> for details</p></li>
<li><p><code>"kulczynski"</code> - <em>Kulczynski</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#kulczynski" class="external-link">https://mhahsler.github.io/arules/docs/measures#kulczynski</a> for details</p></li>
<li><p><code>"lambda"</code> - <em>Lambda</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#lambda" class="external-link">https://mhahsler.github.io/arules/docs/measures#lambda</a> for details</p></li>
<li><p><code>"least_contradiction"</code> - <em>Least Contradiction</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#leastcontradiction" class="external-link">https://mhahsler.github.io/arules/docs/measures#leastcontradiction</a> for details</p></li>
<li><p><code>"lerman"</code> - <em>Lerman Similarity</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#lerman" class="external-link">https://mhahsler.github.io/arules/docs/measures#lerman</a> for details</p></li>
<li><p><code>"leverage"</code> - <em>Leverage</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#leverage" class="external-link">https://mhahsler.github.io/arules/docs/measures#leverage</a> for details</p></li>
<li><p><code>"maxconfidence"</code> - <em>Max Confidence</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#maxconfidence" class="external-link">https://mhahsler.github.io/arules/docs/measures#maxconfidence</a> for details</p></li>
<li><p><code>"mutual_information"</code> - <em>Mutual Information</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#mutualinformation" class="external-link">https://mhahsler.github.io/arules/docs/measures#mutualinformation</a> for details</p></li>
<li><p><code>"odds_ratio"</code> - <em>Odds Ratio</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#oddsratio" class="external-link">https://mhahsler.github.io/arules/docs/measures#oddsratio</a> for details</p></li>
<li><p><code>"phi"</code> - <em>Phi Correlation Coefficient</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#phi" class="external-link">https://mhahsler.github.io/arules/docs/measures#phi</a> for details</p></li>
<li><p><code>"ralambondrainy"</code> - <em>Ralambondrainy</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#ralambondrainy" class="external-link">https://mhahsler.github.io/arules/docs/measures#ralambondrainy</a> for details</p></li>
<li><p><code>"relative_risk"</code> - <em>Relative Risk</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#relativerisk" class="external-link">https://mhahsler.github.io/arules/docs/measures#relativerisk</a> for details</p></li>
<li><p><code>"rule_power_factor"</code> - <em>Rule Power Factor</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#rulepowerfactor" class="external-link">https://mhahsler.github.io/arules/docs/measures#rulepowerfactor</a> for details</p></li>
<li><p><code>"sebag"</code> - <em>Sebag-Schoenauer</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#sebag" class="external-link">https://mhahsler.github.io/arules/docs/measures#sebag</a> for details</p></li>
<li><p><code>"varying_liaison"</code> - <em>Varying Rates Liaison</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#varyingliaison" class="external-link">https://mhahsler.github.io/arules/docs/measures#varyingliaison</a> for details</p></li>
<li><p><code>"yule_q"</code> - <em>Yule's Q</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#yuleq" class="external-link">https://mhahsler.github.io/arules/docs/measures#yuleq</a> for details</p></li>
<li><p><code>"yule_y"</code> - <em>Yule's Y</em>, see <a href="https://mhahsler.github.io/arules/docs/measures#yuley" class="external-link">https://mhahsler.github.io/arules/docs/measures#yuley</a> for details</p></li>
</ul></li>
</ul><p>All the above measures are primarily intended for use with binary (logical)
data. While they can be computed for numerical data as well, their
interpretations may not be meaningful in that context - users should exercise
caution when applying these measures to non-binary data.</p>
<p>Many measures are based on the contingency table counts, and some may be
undefined for certain combinations of counts (e.g., division by zero).
This issue can be mitigated by applying smoothing using the <code>smooth_counts</code>
argument.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="dig_associations.html">dig_associations()</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Michal Burda</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="partition.html">partition</a></span><span class="op">(</span><span class="va">mtcars</span>, .breaks <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rules</span> <span class="op">&lt;-</span> <span class="fu"><a href="dig_associations.html">dig_associations</a></span><span class="op">(</span><span class="va">d</span>,</span></span>
<span class="r-in"><span>                          antecedent <span class="op">=</span> <span class="op">!</span><span class="fu">starts_with</span><span class="op">(</span><span class="st">"mpg"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                          consequent <span class="op">=</span> <span class="fu">starts_with</span><span class="op">(</span><span class="st">"mpg"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                          min_support <span class="op">=</span> <span class="fl">0.3</span>,</span></span>
<span class="r-in"><span>                          min_confidence <span class="op">=</span> <span class="fl">0.8</span>,</span></span>
<span class="r-in"><span>                          contingency_table <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rules</span> <span class="op">&lt;-</span> <span class="fu">add_interest</span><span class="op">(</span><span class="va">rules</span>,</span></span>
<span class="r-in"><span>                   measures <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"conviction"</span>, <span class="st">"leverage"</span>, <span class="st">"jaccard"</span><span class="op">)</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michal Burda.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>


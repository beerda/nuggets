<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Search for conditions that provide significant differences between paired variables — dig_paired_baseline_contrasts • nuggets</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="../deps/MathJax-3.2.2/tex-chtml.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Search for conditions that provide significant differences between paired variables — dig_paired_baseline_contrasts"><meta name="description" content="
Contrast patterns identify conditions under which there is a significant
difference in some statistical feature between two paired numeric variables.

Scheme:
xvar &amp;gt;&amp;gt; yvar | C
There is a statistically significant difference between paired variables
xvar and yvar under the condition C.

Example:
daily_ice_cream_income &amp;gt;&amp;gt; daily_tea_income | sunny
Under the condition of sunny weather, the paired test shows that
daily ice-cream income is significantly higher than the
daily tea income.




The paired contrast is computed using a paired version of a statistical test,
which is specified by the method argument. The function computes the paired
contrast between all pairs of variables, where the first variable is
specified by the xvars argument and the second variable is specified by the
yvars argument. Paired contrasts are computed in sub-data corresponding
to conditions generated from condition columns. Function
dig_paired_baseline_contrasts() supports crisp conditions only, i.e.,
the condition columns must be logical."><meta property="og:description" content="
Contrast patterns identify conditions under which there is a significant
difference in some statistical feature between two paired numeric variables.

Scheme:
xvar &amp;gt;&amp;gt; yvar | C
There is a statistically significant difference between paired variables
xvar and yvar under the condition C.

Example:
daily_ice_cream_income &amp;gt;&amp;gt; daily_tea_income | sunny
Under the condition of sunny weather, the paired test shows that
daily ice-cream income is significantly higher than the
daily tea income.




The paired contrast is computed using a paired version of a statistical test,
which is specified by the method argument. The function computes the paired
contrast between all pairs of variables, where the first variable is
specified by the xvars argument and the second variable is specified by the
yvars argument. Paired contrasts are computed in sub-data corresponding
to conditions generated from condition columns. Function
dig_paired_baseline_contrasts() supports crisp conditions only, i.e.,
the condition columns must be logical."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nuggets</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/nuggets.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/beerda/nuggets/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Search for conditions that provide significant differences between paired variables</h1>
      <small class="dont-index">Source: <a href="https://github.com/beerda/nuggets/blob/main/R/dig_paired_baseline_contrasts.R" class="external-link"><code>R/dig_paired_baseline_contrasts.R</code></a></small>
      <div class="d-none name"><code>dig_paired_baseline_contrasts.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>Contrast patterns identify conditions under which there is a significant
difference in some statistical feature between two paired numeric variables.</p>
<dl><dt>Scheme:</dt>
<dd><p><code>xvar &gt;&gt; yvar | C</code><br><br>
There is a statistically significant difference between paired variables
<code>xvar</code> and <code>yvar</code> under the condition <code>C</code>.</p></dd>

<dt>Example:</dt>
<dd><p><code>daily_ice_cream_income &gt;&gt; daily_tea_income | sunny</code><br><br>
Under the condition of <em>sunny weather</em>, the paired test shows that
<em>daily ice-cream income</em> is significantly higher than the
<em>daily tea income</em>.</p></dd>


</dl><p>The paired contrast is computed using a paired version of a statistical test,
which is specified by the <code>method</code> argument. The function computes the paired
contrast between all pairs of variables, where the first variable is
specified by the <code>xvars</code> argument and the second variable is specified by the
<code>yvars</code> argument. Paired contrasts are computed in sub-data corresponding
to conditions generated from <code>condition</code> columns. Function
<code>dig_paired_baseline_contrasts()</code> supports crisp conditions only, i.e.,
the condition columns must be logical.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dig_paired_baseline_contrasts</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  condition <span class="op">=</span> <span class="fu">where</span><span class="op">(</span><span class="va">is.logical</span><span class="op">)</span>,</span>
<span>  xvars <span class="op">=</span> <span class="fu">where</span><span class="op">(</span><span class="va">is.numeric</span><span class="op">)</span>,</span>
<span>  yvars <span class="op">=</span> <span class="fu">where</span><span class="op">(</span><span class="va">is.numeric</span><span class="op">)</span>,</span>
<span>  disjoint <span class="op">=</span> <span class="fu"><a href="var_names.html">var_names</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"t"</span>,</span>
<span>  alternative <span class="op">=</span> <span class="st">"two.sided"</span>,</span>
<span>  min_length <span class="op">=</span> <span class="fl">0L</span>,</span>
<span>  max_length <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  min_support <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  max_p_value <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  threads <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>a matrix or data frame with data to search the patterns in.</p></dd>


<dt id="arg-condition">condition<a class="anchor" aria-label="anchor" href="#arg-condition"></a></dt>
<dd><p>a tidyselect expression (see
<a href="https://tidyselect.r-lib.org/articles/syntax.html" class="external-link">tidyselect syntax</a>)
specifying the columns to use as condition predicates</p></dd>


<dt id="arg-xvars">xvars<a class="anchor" aria-label="anchor" href="#arg-xvars"></a></dt>
<dd><p>a tidyselect expression (see
<a href="https://tidyselect.r-lib.org/articles/syntax.html" class="external-link">tidyselect syntax</a>)
specifying the columns to use for computation of contrasts</p></dd>


<dt id="arg-yvars">yvars<a class="anchor" aria-label="anchor" href="#arg-yvars"></a></dt>
<dd><p>a tidyselect expression (see
<a href="https://tidyselect.r-lib.org/articles/syntax.html" class="external-link">tidyselect syntax</a>)
specifying the columns to use for computation of contrasts</p></dd>


<dt id="arg-disjoint">disjoint<a class="anchor" aria-label="anchor" href="#arg-disjoint"></a></dt>
<dd><p>an atomic vector of size equal to the number of columns of <code>x</code>
that specifies the groups of predicates: if some elements of the <code>disjoint</code>
vector are equal, then the corresponding columns of <code>x</code> will NOT be
present together in a single condition. If <code>x</code> is prepared with
<code><a href="partition.html">partition()</a></code>, using the <code><a href="var_names.html">var_names()</a></code> function on <code>x</code>'s column names
is a convenient way to create the <code>disjoint</code> vector.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>a character string indicating which contrast to compute.
One of <code>"t"</code>, <code>"wilcox"</code>, or <code>"var"</code>. <code>"t"</code> (resp. <code>"wilcos"</code>) compute
a parametric (resp. non-parametric) test on equality in position, and
<code>"var"</code> performs the F-test on equality of variance.</p></dd>


<dt id="arg-alternative">alternative<a class="anchor" aria-label="anchor" href="#arg-alternative"></a></dt>
<dd><p>indicates the alternative hypothesis and must be one of
<code>"two.sided"</code>, <code>"greater"</code> or <code>"less"</code>. <code>"greater"</code> corresponds to
positive association, <code>"less"</code> to negative association.</p></dd>


<dt id="arg-min-length">min_length<a class="anchor" aria-label="anchor" href="#arg-min-length"></a></dt>
<dd><p>the minimum size (the minimum number of predicates) of the
condition to be generated (must be greater or equal to 0). If 0, the
empty condition is generated in the first place.</p></dd>


<dt id="arg-max-length">max_length<a class="anchor" aria-label="anchor" href="#arg-max-length"></a></dt>
<dd><p>The maximum size (the maximum number of predicates) of the
condition to be generated. If equal to Inf, the maximum length of
conditions is limited only by the number of available predicates.</p></dd>


<dt id="arg-min-support">min_support<a class="anchor" aria-label="anchor" href="#arg-min-support"></a></dt>
<dd><p>the minimum support of a condition to trigger the callback
function for it. The support of the condition is the relative frequency
of the condition in the dataset <code>x</code>. For logical data, it equals to the
relative frequency of rows such that all condition predicates are TRUE on it.
For numerical (double) input, the support is computed as the mean (over all
rows) of multiplications of predicate values.</p></dd>


<dt id="arg-max-p-value">max_p_value<a class="anchor" aria-label="anchor" href="#arg-max-p-value"></a></dt>
<dd><p>the maximum p-value of a test for the pattern to be considered
significant. If the p-value of the test is greater than <code>max_p_value</code>, the
pattern is not included in the result.</p></dd>


<dt id="arg-threads">threads<a class="anchor" aria-label="anchor" href="#arg-threads"></a></dt>
<dd><p>the number of threads to use for parallel computation.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Further arguments passed to the underlying test function
(<code><a href="https://rdrr.io/r/stats/t.test.html" class="external-link">t.test()</a></code>, <code><a href="https://rdrr.io/r/stats/wilcox.test.html" class="external-link">wilcox.test()</a></code>, or <code><a href="https://rdrr.io/r/stats/var.test.html" class="external-link">var.test()</a></code> accordingly to the
selected method).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble with found patterns in rows. The following columns are always
present:</p>
<dl><dt>condition</dt>
<dd><p>the condition of the pattern as a character string
in the form <code>{p1 &amp; p2 &amp; ... &amp; pn}</code> where <code>p1</code>, <code>p2</code>, ..., <code>pn</code> are
<code>x</code>'s column names.</p></dd>

<dt>support</dt>
<dd><p>the support of the condition, i.e., the relative
frequency of the condition in the dataset <code>x</code>.</p></dd>

<dt>xvar</dt>
<dd><p>the name of the first variable in the contrast.</p></dd>

<dt>yvar</dt>
<dd><p>the name of the second variable in the contrast.</p></dd>

<dt>p_value</dt>
<dd><p>the p-value of the underlying test.</p></dd>

<dt>rows</dt>
<dd><p>the number of rows in the sub-data corresponding to
the condition.</p></dd>

<dt>alternative</dt>
<dd><p>a character string indicating the alternative
hypothesis. The value must be one of <code>"two.sided"</code>, <code>"greater"</code>, or
<code>"less"</code>.</p></dd>

<dt>method</dt>
<dd><p>a character string indicating the method used for the
test.</p></dd>

</dl><p>For the <code>"t"</code> method, the following additional columns are also
present (see also <code><a href="https://rdrr.io/r/stats/t.test.html" class="external-link">t.test()</a></code>):</p>
<dl><dt>estimate_x</dt>
<dd><p>the estimated mean of variable <code>xvar</code>.</p></dd>

<dt>estimate_y</dt>
<dd><p>the estimated mean of variable <code>yvar</code>.</p></dd>

<dt>t_statistic</dt>
<dd><p>the t-statistic of the t test.</p></dd>

<dt>df</dt>
<dd><p>the degrees of freedom of the t test.</p></dd>

<dt>conf_int_lo</dt>
<dd><p>the lower bound of the confidence interval.</p></dd>

<dt>conf_int_hi</dt>
<dd><p>the upper bound of the confidence interval.</p></dd>

<dt>stderr</dt>
<dd><p>the standard error of the mean difference.</p></dd>

</dl><p>For the <code>"wilcox"</code> method, the following additional columns are also
present (see also <code><a href="https://rdrr.io/r/stats/wilcox.test.html" class="external-link">wilcox.test()</a></code>):</p>
<dl><dt>estimate</dt>
<dd><p>the estimate of the location parameter.</p></dd>

<dt>W_statistic</dt>
<dd><p>the Wilcoxon rank sum statistic.</p></dd>

<dt>conf_int_lo</dt>
<dd><p>the lower bound of the confidence interval.</p></dd>

<dt>conf_int_hi</dt>
<dd><p>the upper bound of the confidence interval.</p></dd>

</dl><p>For the <code>"var"</code> method, the following additional columns are also
present (see also <code><a href="https://rdrr.io/r/stats/var.test.html" class="external-link">var.test()</a></code>):</p>
<dl><dt>estimate</dt>
<dd><p>the ratio of the sample variances of variables
<code>xvar</code> and <code>yvar</code>.</p></dd>

<dt>F_statistic</dt>
<dd><p>the value of the F test statistic.</p></dd>

<dt>df1</dt>
<dd><p>the numerator degrees of freedom.</p></dd>

<dt>df2</dt>
<dd><p>the denominator degrees of freedom.</p></dd>

<dt>conf_int_lo</dt>
<dd><p>the lower bound of the confidence interval for the
ratio of the population variances.</p></dd>

<dt>conf_int_hi</dt>
<dd><p>the upper bound of the confidence interval for the
ratio of the population variances.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="dig.html">dig()</a></code>, <code><a href="dig_grid.html">dig_grid()</a></code>, <code><a href="https://rdrr.io/r/stats/t.test.html" class="external-link">stats::t.test()</a></code>, <code><a href="https://rdrr.io/r/stats/wilcox.test.html" class="external-link">stats::wilcox.test()</a></code>,
<code><a href="https://rdrr.io/r/stats/var.test.html" class="external-link">stats::var.test()</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Michal Burda</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Compute ratio of sepal and petal length and width for iris dataset</span></span></span>
<span class="r-in"><span><span class="va">crispIris</span> <span class="op">&lt;-</span> <span class="va">iris</span></span></span>
<span class="r-in"><span><span class="va">crispIris</span><span class="op">$</span><span class="va">Sepal.Ratio</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span> <span class="op">/</span> <span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Width</span></span></span>
<span class="r-in"><span><span class="va">crispIris</span><span class="op">$</span><span class="va">Petal.Ratio</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">$</span><span class="va">Petal.Length</span> <span class="op">/</span> <span class="va">iris</span><span class="op">$</span><span class="va">Petal.Width</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create predicates from the Species column</span></span></span>
<span class="r-in"><span><span class="va">crispIris</span> <span class="op">&lt;-</span> <span class="fu"><a href="partition.html">partition</a></span><span class="op">(</span><span class="va">crispIris</span>, <span class="va">Species</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compute paired contrasts for ratios of sepal and petal length and width</span></span></span>
<span class="r-in"><span><span class="fu">dig_paired_baseline_contrasts</span><span class="op">(</span><span class="va">crispIris</span>,</span></span>
<span class="r-in"><span>                              condition <span class="op">=</span> <span class="fu">where</span><span class="op">(</span><span class="va">is.logical</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                              xvars <span class="op">=</span> <span class="va">Sepal.Ratio</span>,</span></span>
<span class="r-in"><span>                              yvars <span class="op">=</span> <span class="va">Petal.Ratio</span>,</span></span>
<span class="r-in"><span>                              method <span class="op">=</span> <span class="st">"t"</span>,</span></span>
<span class="r-in"><span>                              min_support <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 15</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   condition support xvar  yvar  estimate_x estimate_y t_statistic    df  p_value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> {}          1     Sepa… Peta…     -<span style="color: #BB0000;">2.36</span>          <span style="color: #BB0000;">NA</span>       -<span style="color: #BB0000;">10.5</span>   149 1.31<span style="color: #949494;">e</span><span style="color: #BB0000;">-19</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> {Species…   0.333 Sepa… Peta…     -<span style="color: #BB0000;">5.44</span>          <span style="color: #BB0000;">NA</span>       -<span style="color: #BB0000;">13.5</span>    49 4.41<span style="color: #949494;">e</span><span style="color: #BB0000;">-18</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> {Species…   0.333 Sepa… Peta…     -<span style="color: #BB0000;">1.08</span>          <span style="color: #BB0000;">NA</span>       -<span style="color: #BB0000;">25.6</span>    49 5.13<span style="color: #949494;">e</span><span style="color: #BB0000;">-30</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> {Species…   0.333 Sepa… Peta…     -<span style="color: #BB0000;">0.550</span>         <span style="color: #BB0000;">NA</span>       -<span style="color: #BB0000;">11.1</span>    49 4.85<span style="color: #949494;">e</span><span style="color: #BB0000;">-15</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 6 more variables: rows &lt;int&gt;, conf_int_lo &lt;dbl&gt;, conf_int_hi &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   stderr &lt;dbl&gt;, alternative &lt;chr&gt;, method &lt;chr&gt;</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michal Burda.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>


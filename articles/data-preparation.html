<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Data Preparation • nuggets</title>
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data Preparation">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nuggets</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/nuggets.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/data-preparation.html">Data Preparation</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/beerda/nuggets/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Data Preparation</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/beerda/nuggets/blob/main/vignettes/data-preparation.Rmd" class="external-link"><code>vignettes/data-preparation.Rmd</code></a></small>
      <div class="d-none name"><code>data-preparation.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Before applying <code>nuggets</code> for pattern discovery, data
columns intended as predicates must be prepared either by
<em>dichotomization</em> (conversion into <em>dummy variables</em>) or
by transformation into <em>fuzzy sets</em>. This vignette provides a
comprehensive guide to data preparation functions and techniques
available in the <code>nuggets</code> package.</p>
<p>The package provides two main approaches for data preparation:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Crisp (Boolean) predicates</strong>: Transform data
columns into logical (<code>TRUE</code>/<code>FALSE</code>) columns.
This approach is simpler and faster, and is recommended for most
applications.</p></li>
<li><p><strong>Fuzzy predicates</strong>: Transform numeric columns into
membership degrees in the interval <span class="math inline">\([0,
1]\)</span>. This approach is more flexible and allows modeling of
uncertainty in data, but is more computationally demanding.</p></li>
</ol>
<p>The primary function for data preparation is
<code><a href="../reference/partition.html">partition()</a></code>, which handles both crisp and fuzzy
transformations. Additional utility functions help identify and remove
uninformative columns and detect tautologies in the data.</p>
</div>
<div class="section level2">
<h2 id="data-preparation-with-partition">Data Preparation with <code>partition()</code><a class="anchor" aria-label="anchor" href="#data-preparation-with-partition"></a>
</h2>
<p>For patterns based on crisp conditions, the data columns that serve
as predicates in conditions must be transformed either to logical
(<code>TRUE</code>/<code>FALSE</code>) columns, or to fuzzy sets with
values from the interval <span class="math inline">\([0, 1]\)</span>.
The first option is simpler and faster, and it is the recommended option
for most applications. The second option is more flexible and allows to
model uncertainty in data, but it is more computationally demanding.</p>
<div class="section level3">
<h3 id="preparation-of-crisp-boolean-predicates">Preparation of Crisp (Boolean) Predicates<a class="anchor" aria-label="anchor" href="#preparation-of-crisp-boolean-predicates"></a>
</h3>
<p>For patterns based on crisp conditions, the data columns that would
serve as predicates in conditions have to be transformed to logical
(<code>TRUE</code>/<code>FALSE</code>) columns. That can be done in two
ways:</p>
<ul>
<li>numeric columns can be transformed to factors with a selected number
of levels, and then</li>
<li>factors can be transformed to dummy logical columns.</li>
</ul>
<p>Both operations can be done with the help of the
<code><a href="../reference/partition.html">partition()</a></code> function. The <code><a href="../reference/partition.html">partition()</a></code> function
requires the dataset as its first argument and a <em>tidyselect</em>
selection expression to select the columns to be transformed.</p>
<p>Factors and logical columns are automatically transformed to dummy
logical columns by the <code><a href="../reference/partition.html">partition()</a></code> function. For numeric
columns, the <code><a href="../reference/partition.html">partition()</a></code> function requires the
<code>.method</code> argument to specify the method of partitioning:</p>
<ul>
<li>
<code>.method = "dummy"</code> transforms numeric columns to factors
and then to dummy logical columns. That effectively creates a separate
logical column for each distinct value of the numeric column.</li>
<li>
<code>.method = "crisp"</code> transforms numeric columns to crisp
predicates by dividing the range of values into intervals and coding the
values into dummy logical columns according to the intervals.</li>
<li>there exist other methods of partitioning of numeric columns. These
methods create fuzzy predicates and are described in the next
section.</li>
</ul>
<p>For example, consider the built-in <code>mtcars</code> dataset. This
dataset contains information about various car models. For the sake of
illustration, let us transform the <code>cyl</code> column into factor
first:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a copy to avoid modifying the original dataset</span></span>
<span><span class="va">mtcars_example</span> <span class="op">&lt;-</span> <span class="va">mtcars</span></span>
<span><span class="va">mtcars_example</span><span class="op">$</span><span class="va">cyl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">mtcars_example</span><span class="op">$</span><span class="va">cyl</span>,</span>
<span>                     levels<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">8</span><span class="op">)</span>,</span>
<span>                     labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"four"</span>, <span class="st">"six"</span>, <span class="st">"eight"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">mtcars_example</span><span class="op">)</span></span>
<span><span class="co">#&gt;                    mpg   cyl disp  hp drat    wt  qsec vs am gear carb</span></span>
<span><span class="co">#&gt; Mazda RX4         21.0   six  160 110 3.90 2.620 16.46  0  1    4    4</span></span>
<span><span class="co">#&gt; Mazda RX4 Wag     21.0   six  160 110 3.90 2.875 17.02  0  1    4    4</span></span>
<span><span class="co">#&gt; Datsun 710        22.8  four  108  93 3.85 2.320 18.61  1  1    4    1</span></span>
<span><span class="co">#&gt; Hornet 4 Drive    21.4   six  258 110 3.08 3.215 19.44  1  0    3    1</span></span>
<span><span class="co">#&gt; Hornet Sportabout 18.7 eight  360 175 3.15 3.440 17.02  0  0    3    2</span></span>
<span><span class="co">#&gt; Valiant           18.1   six  225 105 2.76 3.460 20.22  1  0    3    1</span></span></code></pre></div>
<p>Factors are transformed to dummy logical columns by the
<code><a href="../reference/partition.html">partition()</a></code> function automatically:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">mtcars_example</span>, <span class="va">cyl</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 13</span></span></span>
<span><span class="co">#&gt;      mpg  disp    hp  drat    wt  qsec    vs    am  gear  carb `cyl=four`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  21    160    110  3.9   2.62  16.5     0     1     4     4 FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  21    160    110  3.9   2.88  17.0     0     1     4     4 FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  22.8  108     93  3.85  2.32  18.6     1     1     4     1 TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  21.4  258    110  3.08  3.22  19.4     1     0     3     1 FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  18.7  360    175  3.15  3.44  17.0     0     0     3     2 FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  18.1  225    105  2.76  3.46  20.2     1     0     3     1 FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  14.3  360    245  3.21  3.57  15.8     0     0     3     4 FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  24.4  147.    62  3.69  3.19  20       1     0     4     2 TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  22.8  141.    95  3.92  3.15  22.9     1     0     4     2 TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  19.2  168.   123  3.92  3.44  18.3     1     0     4     4 FALSE     </span></span>
<span><span class="co">#&gt;    `cyl=six` `cyl=eight`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> TRUE      FALSE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> TRUE      FALSE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> FALSE     FALSE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> TRUE      FALSE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> FALSE     TRUE       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> TRUE      FALSE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> FALSE     TRUE       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> FALSE     FALSE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> FALSE     FALSE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> TRUE      FALSE      </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 22 more rows</span></span></span></code></pre></div>
<p>The <code>vs</code>, <code>am</code>, and <code>gear</code> columns
are numeric but actually represent categories. To transform them to
dummy logical columns in the same way as factors, we can use the
<code><a href="../reference/partition.html">partition()</a></code> function with the <code>.method</code> argument
set to <code>"dummy"</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">mtcars_example</span>, <span class="va">vs</span><span class="op">:</span><span class="va">gear</span>, .method <span class="op">=</span> <span class="st">"dummy"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 15</span></span></span>
<span><span class="co">#&gt;      mpg cyl    disp    hp  drat    wt  qsec  carb `vs=0` `vs=1` `am=0` `am=1`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  21   six    160    110  3.9   2.62  16.5     4 TRUE   FALSE  FALSE  TRUE  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  21   six    160    110  3.9   2.88  17.0     4 TRUE   FALSE  FALSE  TRUE  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  22.8 four   108     93  3.85  2.32  18.6     1 FALSE  TRUE   FALSE  TRUE  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  21.4 six    258    110  3.08  3.22  19.4     1 FALSE  TRUE   TRUE   FALSE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  18.7 eight  360    175  3.15  3.44  17.0     2 TRUE   FALSE  TRUE   FALSE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  18.1 six    225    105  2.76  3.46  20.2     1 FALSE  TRUE   TRUE   FALSE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  14.3 eight  360    245  3.21  3.57  15.8     4 TRUE   FALSE  TRUE   FALSE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  24.4 four   147.    62  3.69  3.19  20       2 FALSE  TRUE   TRUE   FALSE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  22.8 four   141.    95  3.92  3.15  22.9     2 FALSE  TRUE   TRUE   FALSE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  19.2 six    168.   123  3.92  3.44  18.3     4 FALSE  TRUE   TRUE   FALSE </span></span>
<span><span class="co">#&gt;    `gear=3` `gear=4` `gear=5`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> FALSE    TRUE     FALSE   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> FALSE    TRUE     FALSE   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> FALSE    TRUE     FALSE   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> TRUE     FALSE    FALSE   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> TRUE     FALSE    FALSE   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> TRUE     FALSE    FALSE   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> TRUE     FALSE    FALSE   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> FALSE    TRUE     FALSE   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> FALSE    TRUE     FALSE   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> FALSE    TRUE     FALSE   </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 22 more rows</span></span></span></code></pre></div>
<p>The <code>mpg</code> column is numeric and therefore cannot be
transformed directly into dummy logical columns. A better approach is to
use the <code>"crisp"</code> method of partitioning.</p>
<p>The <code>"crisp"</code> method divides the range of values of the
selected columns into intervals specified by the <code>.breaks</code>
argument and then encodes the values into dummy logical columns
corresponding to the intervals. The <code>.breaks</code> argument is a
numeric vector that specifies the interval boundaries.</p>
<p>For example, the <code>mpg</code> values can be divided into four
intervals: (-Inf, 15], (15, 20], (20, 30], and (30, Inf). The
<code>.breaks</code> argument is then the vector
<code>c(-Inf, 15, 20, 30, Inf)</code>, which defines the boundaries of
these intervals.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">mtcars_example</span>, <span class="va">mpg</span>, .method <span class="op">=</span> <span class="st">"crisp"</span>, .breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="cn">Inf</span>, <span class="fl">15</span>, <span class="fl">20</span>, <span class="fl">30</span>, <span class="cn">Inf</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 14</span></span></span>
<span><span class="co">#&gt;    cyl    disp    hp  drat    wt  qsec    vs    am  gear  carb `mpg=(-Inf;15]`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> six    160    110  3.9   2.62  16.5     0     1     4     4 FALSE          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> six    160    110  3.9   2.88  17.0     0     1     4     4 FALSE          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> four   108     93  3.85  2.32  18.6     1     1     4     1 FALSE          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> six    258    110  3.08  3.22  19.4     1     0     3     1 FALSE          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> eight  360    175  3.15  3.44  17.0     0     0     3     2 FALSE          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> six    225    105  2.76  3.46  20.2     1     0     3     1 FALSE          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> eight  360    245  3.21  3.57  15.8     0     0     3     4 TRUE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> four   147.    62  3.69  3.19  20       1     0     4     2 FALSE          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> four   141.    95  3.92  3.15  22.9     1     0     4     2 FALSE          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> six    168.   123  3.92  3.44  18.3     1     0     4     4 FALSE          </span></span>
<span><span class="co">#&gt;    `mpg=(15;20]` `mpg=(20;30]` `mpg=(30;Inf]`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> FALSE         TRUE          FALSE         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> FALSE         TRUE          FALSE         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> FALSE         TRUE          FALSE         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> FALSE         TRUE          FALSE         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> TRUE          FALSE         FALSE         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> TRUE          FALSE         FALSE         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> FALSE         FALSE         FALSE         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> FALSE         TRUE          FALSE         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> FALSE         TRUE          FALSE         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> TRUE          FALSE         FALSE         </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 22 more rows</span></span></span></code></pre></div>
<p>Note: it is advisable to put <code>-Inf</code> and <code>Inf</code>
as the first and last elements of the <code>.breaks</code> vector to
ensure that all values are covered by the intervals.</p>
<p>If we want the breaks to be evenly spaced across the range of values,
we can set <code>.breaks</code> to a single integer. This value
specifies the number of intervals to create. For example, the following
command divides the <code>disp</code> values into three intervals of
equal width:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">mtcars_example</span>, <span class="va">disp</span>, .method <span class="op">=</span> <span class="st">"crisp"</span>, .breaks <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 32 × 13</span></span></span>
<span><span class="co">#&gt;      mpg cyl      hp  drat    wt  qsec    vs    am  gear  carb `disp=(-Inf;205]`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  21   six     110  3.9   2.62  16.5     0     1     4     4 TRUE             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  21   six     110  3.9   2.88  17.0     0     1     4     4 TRUE             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  22.8 four     93  3.85  2.32  18.6     1     1     4     1 TRUE             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  21.4 six     110  3.08  3.22  19.4     1     0     3     1 FALSE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  18.7 eight   175  3.15  3.44  17.0     0     0     3     2 FALSE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  18.1 six     105  2.76  3.46  20.2     1     0     3     1 FALSE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  14.3 eight   245  3.21  3.57  15.8     0     0     3     4 FALSE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  24.4 four     62  3.69  3.19  20       1     0     4     2 TRUE             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  22.8 four     95  3.92  3.15  22.9     1     0     4     2 TRUE             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  19.2 six     123  3.92  3.44  18.3     1     0     4     4 TRUE             </span></span>
<span><span class="co">#&gt;    `disp=(205;338]` `disp=(338;Inf]`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> TRUE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> FALSE            TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> TRUE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> FALSE            TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 22 more rows</span></span></span></code></pre></div>
<p>Each call to <code><a href="../reference/partition.html">partition()</a></code> returns a tibble with the
selected columns transformed to dummy logical columns, while the other
columns remain unchanged.</p>
<p>The transformation of the whole <code>mtcars</code> dataset to crisp
predicates can be done as follows:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">crisp_mtcars</span> <span class="op">&lt;-</span> <span class="va">mtcars_example</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">cyl</span>, <span class="va">vs</span><span class="op">:</span><span class="va">gear</span>, .method <span class="op">=</span> <span class="st">"dummy"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">mpg</span>, .method <span class="op">=</span> <span class="st">"crisp"</span>, .breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="cn">Inf</span>, <span class="fl">15</span>, <span class="fl">20</span>, <span class="fl">30</span>, <span class="cn">Inf</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">disp</span><span class="op">:</span><span class="va">carb</span>, .method <span class="op">=</span> <span class="st">"crisp"</span>, .breaks <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">crisp_mtcars</span>, n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 32</span></span></span>
<span><span class="co">#&gt;   `cyl=four` `cyl=six` `cyl=eight` `vs=0` `vs=1` `am=0` `am=1` `gear=3` `gear=4`</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> FALSE      TRUE      FALSE       TRUE   FALSE  FALSE  TRUE   FALSE    TRUE    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> FALSE      TRUE      FALSE       TRUE   FALSE  FALSE  TRUE   FALSE    TRUE    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> TRUE       FALSE     FALSE       FALSE  TRUE   FALSE  TRUE   FALSE    TRUE    </span></span>
<span><span class="co">#&gt;   `gear=5` `mpg=(-Inf;15]` `mpg=(15;20]` `mpg=(20;30]` `mpg=(30;Inf]`</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> FALSE    FALSE           FALSE         TRUE          FALSE         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> FALSE    FALSE           FALSE         TRUE          FALSE         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> FALSE    FALSE           FALSE         TRUE          FALSE         </span></span>
<span><span class="co">#&gt;   `disp=(-Inf;205]` `disp=(205;338]` `disp=(338;Inf]` `hp=(-Inf;146]`</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> TRUE              FALSE            FALSE            TRUE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> TRUE              FALSE            FALSE            TRUE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> TRUE              FALSE            FALSE            TRUE           </span></span>
<span><span class="co">#&gt;   `hp=(146;241]` `hp=(241;Inf]` `drat=(-Inf;3.48]` `drat=(3.48;4.21]`</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> FALSE          FALSE          FALSE              TRUE              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> FALSE          FALSE          FALSE              TRUE              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> FALSE          FALSE          FALSE              TRUE              </span></span>
<span><span class="co">#&gt;   `drat=(4.21;Inf]` `wt=(-Inf;2.82]` `wt=(2.82;4.12]` `wt=(4.12;Inf]`</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> FALSE             TRUE             FALSE            FALSE          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> FALSE             FALSE            TRUE             FALSE          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> FALSE             TRUE             FALSE            FALSE          </span></span>
<span><span class="co">#&gt;   `qsec=(-Inf;17.3]` `qsec=(17.3;20.1]` `qsec=(20.1;Inf]` `carb=(-Inf;3.33]`</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> TRUE               FALSE              FALSE             FALSE             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> TRUE               FALSE              FALSE             FALSE             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> FALSE              TRUE               FALSE             TRUE              </span></span>
<span><span class="co">#&gt;   `carb=(3.33;5.67]` `carb=(5.67;Inf]`</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> TRUE               FALSE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> TRUE               FALSE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> FALSE              FALSE</span></span></code></pre></div>
<p>Now all columns are logical and can be used as predicates in crisp
conditions.</p>
<div class="section level4">
<h4 id="data-driven-breakpoint-selection-with--style">Data-Driven Breakpoint Selection with <code>.style</code><a class="anchor" aria-label="anchor" href="#data-driven-breakpoint-selection-with--style"></a>
</h4>
<p>When <code>.breaks</code> is specified as a single integer (the
number of intervals), the <code><a href="../reference/partition.html">partition()</a></code> function can use
various data-driven methods to determine optimal breakpoints, rather
than simply dividing the range into equal-width intervals. This is
controlled by the <code>.style</code> argument, which leverages methods
from the <code>classInt</code> package.</p>
<p>The <code>.style</code> argument supports the following methods:</p>
<ul>
<li>
<strong><code>"equal"</code></strong> (default) – equal-width
intervals across the column range</li>
<li>
<strong><code>"quantile"</code></strong> – equal-frequency intervals
(quantile-based)</li>
<li>
<strong><code>"kmeans"</code></strong> – intervals found by 1D
k-means clustering</li>
<li>
<strong><code>"sd"</code></strong> – intervals based on standard
deviations from the mean</li>
<li>
<strong><code>"hclust"</code></strong> – hierarchical clustering
intervals</li>
<li>
<strong><code>"bclust"</code></strong> – model-based clustering
intervals</li>
<li>
<strong><code>"fisher"</code></strong> /
<strong><code>"jenks"</code></strong> – Fisher–Jenks optimal
partitioning</li>
<li>
<strong><code>"dpih"</code></strong> – kernel-based density
partitioning</li>
<li>
<strong><code>"headtails"</code></strong> – head/tails natural
breaks</li>
<li>
<strong><code>"maximum"</code></strong> – maximization-based
partitioning</li>
<li>
<strong><code>"box"</code></strong> – breaks at boxplot hinges</li>
</ul>
<p>These methods are particularly useful when the data distribution is
skewed or has natural clusters. For example, quantile-based partitioning
ensures that each interval contains approximately the same number of
observations, which can be valuable for imbalanced datasets.</p>
<p>Here are examples using the CO2 dataset:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Equal-width intervals (default)</span></span>
<span><span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">CO2</span>, <span class="va">conc</span>, .method <span class="op">=</span> <span class="st">"crisp"</span>, .breaks <span class="op">=</span> <span class="fl">4</span>, .style <span class="op">=</span> <span class="st">"equal"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 84 × 8</span></span></span>
<span><span class="co">#&gt;    Plant Type   Treatment  uptake `conc=(-Inf;321]` `conc=(321;548]`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Qn1   Quebec nonchilled   16   TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Qn1   Quebec nonchilled   30.4 TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Qn1   Quebec nonchilled   34.8 TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Qn1   Quebec nonchilled   37.2 FALSE             TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Qn1   Quebec nonchilled   35.3 FALSE             TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Qn1   Quebec nonchilled   39.2 FALSE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Qn1   Quebec nonchilled   39.7 FALSE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Qn2   Quebec nonchilled   13.6 TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Qn2   Quebec nonchilled   27.3 TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Qn2   Quebec nonchilled   37.1 TRUE              FALSE           </span></span>
<span><span class="co">#&gt;    `conc=(548;774]` `conc=(774;Inf]`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> TRUE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> FALSE            TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 74 more rows</span></span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Quantile-based intervals (equal frequency in each interval)</span></span>
<span><span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">CO2</span>, <span class="va">conc</span>, .method <span class="op">=</span> <span class="st">"crisp"</span>, .breaks <span class="op">=</span> <span class="fl">4</span>, .style <span class="op">=</span> <span class="st">"quantile"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 84 × 8</span></span></span>
<span><span class="co">#&gt;    Plant Type   Treatment  uptake `conc=(-Inf;175]` `conc=(175;350]`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Qn1   Quebec nonchilled   16   TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Qn1   Quebec nonchilled   30.4 TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Qn1   Quebec nonchilled   34.8 FALSE             TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Qn1   Quebec nonchilled   37.2 FALSE             TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Qn1   Quebec nonchilled   35.3 FALSE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Qn1   Quebec nonchilled   39.2 FALSE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Qn1   Quebec nonchilled   39.7 FALSE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Qn2   Quebec nonchilled   13.6 TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Qn2   Quebec nonchilled   27.3 TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Qn2   Quebec nonchilled   37.1 FALSE             TRUE            </span></span>
<span><span class="co">#&gt;    `conc=(350;675]` `conc=(675;Inf]`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> TRUE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> TRUE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> FALSE            TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 74 more rows</span></span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># K-means clustering to find natural breakpoints</span></span>
<span><span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">CO2</span>, <span class="va">conc</span>, .method <span class="op">=</span> <span class="st">"crisp"</span>, .breaks <span class="op">=</span> <span class="fl">4</span>, .style <span class="op">=</span> <span class="st">"kmeans"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 84 × 8</span></span></span>
<span><span class="co">#&gt;    Plant Type   Treatment  uptake `conc=(-Inf;212]` `conc=(212;425]`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Qn1   Quebec nonchilled   16   TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Qn1   Quebec nonchilled   30.4 TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Qn1   Quebec nonchilled   34.8 FALSE             TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Qn1   Quebec nonchilled   37.2 FALSE             TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Qn1   Quebec nonchilled   35.3 FALSE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Qn1   Quebec nonchilled   39.2 FALSE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Qn1   Quebec nonchilled   39.7 FALSE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Qn2   Quebec nonchilled   13.6 TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Qn2   Quebec nonchilled   27.3 TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Qn2   Quebec nonchilled   37.1 FALSE             TRUE            </span></span>
<span><span class="co">#&gt;    `conc=(425;838]` `conc=(838;Inf]`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> TRUE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> TRUE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> FALSE            TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 74 more rows</span></span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Standard deviation-based intervals</span></span>
<span><span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">CO2</span>, <span class="va">conc</span>, .method <span class="op">=</span> <span class="st">"crisp"</span>, .breaks <span class="op">=</span> <span class="fl">4</span>, .style <span class="op">=</span> <span class="st">"sd"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 84 × 8</span></span></span>
<span><span class="co">#&gt;    Plant Type   Treatment  uptake `conc=(-Inf;139]` `conc=(139;435]`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Qn1   Quebec nonchilled   16   TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Qn1   Quebec nonchilled   30.4 FALSE             TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Qn1   Quebec nonchilled   34.8 FALSE             TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Qn1   Quebec nonchilled   37.2 FALSE             TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Qn1   Quebec nonchilled   35.3 FALSE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Qn1   Quebec nonchilled   39.2 FALSE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Qn1   Quebec nonchilled   39.7 FALSE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Qn2   Quebec nonchilled   13.6 TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Qn2   Quebec nonchilled   27.3 FALSE             TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Qn2   Quebec nonchilled   37.1 FALSE             TRUE            </span></span>
<span><span class="co">#&gt;    `conc=(435;731]` `conc=(731;Inf]`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> TRUE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> TRUE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> FALSE            TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 74 more rows</span></span></span></code></pre></div>
<p>The <code>.style_params</code> argument allows you to pass additional
parameters to the underlying algorithm. This should be a named list of
arguments accepted by the respective method in
<code><a href="https://r-spatial.github.io/classInt/reference/classIntervals.html" class="external-link">classInt::classIntervals()</a></code>.</p>
<p>For example, when using k-means clustering, you can specify the
algorithm:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use Lloyd's algorithm for k-means</span></span>
<span><span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">CO2</span>, <span class="va">conc</span>, .method <span class="op">=</span> <span class="st">"crisp"</span>, .breaks <span class="op">=</span> <span class="fl">4</span>, </span>
<span>          .style <span class="op">=</span> <span class="st">"kmeans"</span>, </span>
<span>          .style_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>algorithm <span class="op">=</span> <span class="st">"Lloyd"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 84 × 8</span></span></span>
<span><span class="co">#&gt;    Plant Type   Treatment  uptake `conc=(-Inf;300]` `conc=(300;588]`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Qn1   Quebec nonchilled   16   TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Qn1   Quebec nonchilled   30.4 TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Qn1   Quebec nonchilled   34.8 TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Qn1   Quebec nonchilled   37.2 FALSE             TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Qn1   Quebec nonchilled   35.3 FALSE             TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Qn1   Quebec nonchilled   39.2 FALSE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Qn1   Quebec nonchilled   39.7 FALSE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Qn2   Quebec nonchilled   13.6 TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Qn2   Quebec nonchilled   27.3 TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Qn2   Quebec nonchilled   37.1 TRUE              FALSE           </span></span>
<span><span class="co">#&gt;    `conc=(588;838]` `conc=(838;Inf]`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> TRUE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> FALSE            TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 74 more rows</span></span></span></code></pre></div>
<p>When using quantile-based intervals, you can control the quantile
type:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use different quantile types (see ?quantile for details)</span></span>
<span><span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">CO2</span>, <span class="va">conc</span>, .method <span class="op">=</span> <span class="st">"crisp"</span>, .breaks <span class="op">=</span> <span class="fl">4</span>, </span>
<span>          .style <span class="op">=</span> <span class="st">"quantile"</span>, </span>
<span>          .style_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>type <span class="op">=</span> <span class="fl">7</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 84 × 8</span></span></span>
<span><span class="co">#&gt;    Plant Type   Treatment  uptake `conc=(-Inf;175]` `conc=(175;350]`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Qn1   Quebec nonchilled   16   TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Qn1   Quebec nonchilled   30.4 TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Qn1   Quebec nonchilled   34.8 FALSE             TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Qn1   Quebec nonchilled   37.2 FALSE             TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Qn1   Quebec nonchilled   35.3 FALSE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Qn1   Quebec nonchilled   39.2 FALSE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Qn1   Quebec nonchilled   39.7 FALSE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Qn2   Quebec nonchilled   13.6 TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Qn2   Quebec nonchilled   27.3 TRUE              FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Qn2   Quebec nonchilled   37.1 FALSE             TRUE            </span></span>
<span><span class="co">#&gt;    `conc=(350;675]` `conc=(675;Inf]`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> TRUE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> TRUE             FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> FALSE            TRUE            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> FALSE            FALSE           </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 74 more rows</span></span></span></code></pre></div>
<p>These data-driven methods can produce more meaningful intervals that
better reflect the structure of your data, leading to more interpretable
patterns in subsequent analysis.</p>
</div>
</div>
<div class="section level3">
<h3 id="preparation-of-triangular-and-raised-cosine-fuzzy-predicates">Preparation of Triangular and Raised-Cosine Fuzzy Predicates<a class="anchor" aria-label="anchor" href="#preparation-of-triangular-and-raised-cosine-fuzzy-predicates"></a>
</h3>
<p>In many real-world datasets, numeric attributes do not lend
themselves to clear-cut, crisp boundaries. For example, deciding whether
a car has “low mileage” or “high mileage” is often subjective. A vehicle
with 19 miles per gallon may be considered “low” in one context but
“medium” in another. Crisp intervals force a strict separation between
categories, which can be too rigid and may lose information about
gradual changes in the data.</p>
<p>To address this, <strong>fuzzy predicates</strong> are used. A fuzzy
predicate expresses the degree to which a condition is satisfied.
Instead of being strictly <code>TRUE</code> or <code>FALSE</code>
(although allowed too), each predicate is represented by a number in the
interval <span class="math inline">\([0,1]\)</span>. A truth degree of 0
means the predicate is entirely false, 1 means it is fully true, and
values in between indicate partial membership. This allows us to model
smooth transitions between categories and capture more nuanced
patterns.</p>
<p>For example, a fuzzy predicate could represent “medium horsepower” in
the <code>mtcars</code> dataset. A car with 120 hp may belong to this
category to a degree of 0.8, while a car with 150 hp may belong to it
only to a degree of 0.2. Such representations are more faithful to human
reasoning and often yield patterns that are both more robust and more
interpretable.</p>
<p>The transformation of numeric columns to fuzzy predicates can be done
with the <code><a href="../reference/partition.html">partition()</a></code> function. As with crisp partitioning,
factors are transformed to dummy logical columns. Numeric columns,
however, are transformed into <em>fuzzy truth values</em>. The
<code><a href="../reference/partition.html">partition()</a></code> function provides two fuzzy partitioning
methods:</p>
<ul>
<li>
<code>.method = "triangle"</code> creates fuzzy sets with triangular
or trapezoidal membership functions;</li>
<li>
<code>.method = "raisedcos"</code> creates fuzzy sets with raised
cosine or trapezoidal raised-cosine membership functions.</li>
</ul>
<p>These membership functions specify how strongly a value belongs to a
fuzzy set. The choice of function depends on the desired smoothness of
the transition between sets.</p>
<blockquote>
<p>More advanced fuzzy partitioning of numeric columns can be achieved
with the <a href="https://cran.r-project.org/package=lfl" class="external-link">lfl</a>
package, which provides tools for defining fuzzy sets of many types,
including linguistic terms such as “very small” or “extremely big”. See
the <a href="https://github.com/beerda/lfl/blob/master/vignettes/main.pdf" class="external-link"><code>lfl</code>
documentation</a> for more information.</p>
</blockquote>
<p>Both triangular and raised cosine shapes are fully defined by three
points: the left border, the peak, and the right border. The
<code>.breaks</code> argument in the <code><a href="../reference/partition.html">partition()</a></code> function
specifies these points. See the following figure for an illustration of
triangular and raised cosine membership functions for
<code>.breaks = c(-10, 0, 10)</code>:</p>
<div class="figure" style="text-align: center">
<img src="data-preparation_files/figure-html/unnamed-chunk-15-1.png" alt="Comparison of triangular and raised cosine membership functions for .breaks = c(-10, 0, 10)
" width="80%"><p class="caption">
Comparison of triangular and raised cosine membership functions for
<code>.breaks = c(-10, 0, 10)</code>
</p>
</div>
<p>Each consecutive triplet of values in <code>.breaks</code> defines
one fuzzy set. To create e.g. three fuzzy sets, five break points are
needed. For instance, <code>.breaks = c(-10, -5, 0, 5, 10)</code>
defines three fuzzy sets with peaks at -5, 0, and 5. See the following
figure for an illustration of these fuzzy sets:</p>
<div class="figure" style="text-align: center">
<img src="data-preparation_files/figure-html/unnamed-chunk-16-1.png" alt="Fuzzy sets with triangular membership functions for .breaks = c(-10, -5, 0, 5, 10)
" width="80%"><p class="caption">
Fuzzy sets with triangular membership functions for
<code>partition(x, .method = "triangle", .breaks = c(-10, -5, 0, 5, 10))</code>
</p>
</div>
<p>It is often useful to extend the fuzzy sets on the edges to infinity.
That ensures that all values are covered by the fuzzy sets. To achieve
that, <code>-Inf</code> and <code>Inf</code> can be added as the first
and last elements of the <code>.breaks</code> vector:</p>
<div class="figure" style="text-align: center">
<img src="data-preparation_files/figure-html/unnamed-chunk-17-1.png" alt="Fuzzy sets with triangular membership functions for .breaks = c(-Inf, -5, 0, 5, Inf)
" width="80%"><p class="caption">
Fuzzy sets with triangular membership functions for
<code>partition(x, .method = "triangle", .breaks = c(-Inf, -5, 0, 5, Inf))</code>
</p>
</div>
<p>If a regular partitioning of the range of values is desired,
<code>.breaks</code> can be set to a single integer, which specifies the
number of fuzzy sets to create. For example, <code>.breaks = 4</code>
creates partitioning with four fuzzy sets:</p>
<div class="figure" style="text-align: center">
<img src="data-preparation_files/figure-html/unnamed-chunk-18-1.png" alt="Fuzzy sets with triangular membership functions for .breaks = 4
" width="80%"><p class="caption">
Fuzzy sets with triangular membership functions for
<code>partition(x, .method = "triangle", .breaks = 4)</code>
</p>
</div>
<p>The same is valid for raised cosine fuzzy sets. For instance, the
following figure shows five raised cosine fuzzy sets defined by
<code>.breaks = c(-Inf, -10, -5, 0, 5, 10, Inf)</code>:</p>
<div class="figure" style="text-align: center">
<img src="data-preparation_files/figure-html/unnamed-chunk-19-1.png" alt="Fuzzy sets with raised cosine membership functions for .breaks = c(-Inf, -10, -5, 0, 5, 10, Inf)
" width="80%"><p class="caption">
Fuzzy sets with raised cosine membership functions for
<code>partition(x, .method = "raisedcos", .breaks = c(-Inf, -10, -5, 0, 5, 10, Inf))</code>
</p>
</div>
<p>A fuzzy transformation of the whole <code>mtcars</code> dataset can
be done as follows:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Start with a fresh copy of mtcars</span></span>
<span><span class="va">fuzzy_mtcars</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">mutate</span><span class="op">(</span>cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">cyl</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">8</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"four"</span>, <span class="st">"six"</span>, <span class="st">"eight"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">cyl</span>, <span class="va">vs</span><span class="op">:</span><span class="va">gear</span>, .method <span class="op">=</span> <span class="st">"dummy"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">mpg</span>, .method <span class="op">=</span> <span class="st">"triangle"</span>, .breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="cn">Inf</span>, <span class="fl">15</span>, <span class="fl">20</span>, <span class="fl">30</span>, <span class="cn">Inf</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">disp</span><span class="op">:</span><span class="va">carb</span>, .method <span class="op">=</span> <span class="st">"triangle"</span>, .breaks <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">fuzzy_mtcars</span>, n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 31</span></span></span>
<span><span class="co">#&gt;   `cyl=four` `cyl=six` `cyl=eight` `vs=0` `vs=1` `am=0` `am=1` `gear=3` `gear=4`</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> FALSE      TRUE      FALSE       TRUE   FALSE  FALSE  TRUE   FALSE    TRUE    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> FALSE      TRUE      FALSE       TRUE   FALSE  FALSE  TRUE   FALSE    TRUE    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> TRUE       FALSE     FALSE       FALSE  TRUE   FALSE  TRUE   FALSE    TRUE    </span></span>
<span><span class="co">#&gt;   `gear=5` `mpg=(-Inf;15;20)` `mpg=(15;20;30)` `mpg=(20;30;Inf)`</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> FALSE                     0             0.9               0.1 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> FALSE                     0             0.9               0.1 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> FALSE                     0             0.72              0.28</span></span>
<span><span class="co">#&gt;   `disp=(-Inf;71.1;272)` `disp=(71.1;272;472)` `disp=(272;472;Inf)`</span></span>
<span><span class="co">#&gt;                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>                  0.557                 0.443                    0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>                  0.557                 0.443                    0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>                  0.816                 0.184                    0</span></span>
<span><span class="co">#&gt;   `hp=(-Inf;52;194)` `hp=(52;194;335)` `hp=(194;335;Inf)`</span></span>
<span><span class="co">#&gt;                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>              0.592             0.408                  0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>              0.592             0.408                  0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>              0.711             0.289                  0</span></span>
<span><span class="co">#&gt;   `drat=(-Inf;2.76;3.84)` `drat=(2.76;3.84;4.93)` `drat=(3.84;4.93;Inf)`</span></span>
<span><span class="co">#&gt;                     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>                       0                   0.945                0.055<span style="text-decoration: underline;">0</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>                       0                   0.945                0.055<span style="text-decoration: underline;">0</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>                       0                   0.991                0.009<span style="text-decoration: underline;">17</span></span></span>
<span><span class="co">#&gt;   `wt=(-Inf;1.51;3.47)` `wt=(1.51;3.47;5.42)` `wt=(3.47;5.42;Inf)`</span></span>
<span><span class="co">#&gt;                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>                 0.434                 0.566                    0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>                 0.304                 0.696                    0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>                 0.587                 0.413                    0</span></span>
<span><span class="co">#&gt;   `qsec=(-Inf;14.5;18.7)` `qsec=(14.5;18.7;22.9)` `qsec=(18.7;22.9;Inf)`</span></span>
<span><span class="co">#&gt;                     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>                  0.533                    0.467                      0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>                  0.4                      0.6                        0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>                  0.021<span style="text-decoration: underline;">4</span>                   0.979                      0</span></span>
<span><span class="co">#&gt;   `carb=(-Inf;1;4.5)` `carb=(1;4.5;8)` `carb=(4.5;8;Inf)`</span></span>
<span><span class="co">#&gt;                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>               0.143            0.857                  0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>               0.143            0.857                  0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>               1                0                      0</span></span></code></pre></div>
<p>Note that the <code>cyl</code>, <code>vs</code>, <code>am</code>, and
<code>gear</code> columns are still represented by dummy logical
columns, while the <code>mpg</code>, <code>disp</code>, and other
columns are now represented by fuzzy sets. This combination allows both
crisp and fuzzy predicates to be used together in pattern discovery,
offering more flexibility and interpretability.</p>
</div>
<div class="section level3">
<h3 id="preparation-of-trapezoidal-fuzzy-predicates">Preparation of Trapezoidal Fuzzy Predicates<a class="anchor" aria-label="anchor" href="#preparation-of-trapezoidal-fuzzy-predicates"></a>
</h3>
<p>The triangular and raised cosine membership functions are often
sufficient to capture gradual transitions in numeric data. However, in
some situations it is useful to have fuzzy sets that stay <em>fully true
(membership = 1)</em> over a wider interval before decreasing again.
This generalization corresponds to a <em>trapezoidal fuzzy set</em>,
which can be seen as a triangle or raised cosine with a “flat top”.</p>
<p>With <code><a href="../reference/partition.html">partition()</a></code>, trapezoids can be defined for both
<code>"triangle"</code> and <code>"raisedcos"</code> methods by
controlling how many consecutive break points constitute one fuzzy set
and how far the window shifts along the breaks. That can be accomplished
with the <code>.span</code> and <code>.inc</code> arguments:</p>
<ul>
<li>
<code>.span</code> - specifies the width of the flat top in terms of
the number of break intervals that should be merged.</li>
<li>
<code>.inc</code> - the shift of the window along
<code>.breaks</code> when forming the next fuzzy set.</li>
</ul>
<p>By default, <code>.span = 1</code> and <code>.inc = 1</code>, which
means that each fuzzy set is triangular or raised cosine. Setting
<code>.span</code> to a value greater than 1 creates trapezoidal fuzzy
sets. With <code>.span = 2</code>, each fuzzy set is defined by four
consecutive break points - a flat top spans two break intervals. The
following figure is the result of setting <code>.span = 2</code> and
<code>.breaks = c(-10, -5, 5, 10)</code>:</p>
<div class="figure" style="text-align: center">
<img src="data-preparation_files/figure-html/unnamed-chunk-21-1.png" alt="Fuzzy sets with triangular membership functions for .span = 2, .breaks = c(-10, -5, 5, 10)`
" width="80%"><p class="caption">
Fuzzy sets with triangular membership functions for
<code>partition(x, .method = "triangle", .span = 2, .breaks = c(-10, -5, 5, 10))</code>
</p>
</div>
<p>Additional fuzzy sets are created by shifting the window along the
break points. The shift is controlled by the <code>.inc</code> argument.
By default, <code>.inc = 1</code>, which means that the window shifts by
one break point. Consider the following example that shows the effect of
setting <code>.inc = 1</code> in addition to <code>.span = 2</code> and
<code>.breaks = c(-15, -10, -5, 0, 5, 10, 15)</code>:</p>
<div class="figure" style="text-align: center">
<img src="data-preparation_files/figure-html/unnamed-chunk-22-1.png" alt="Fuzzy sets with triangular membership functions for .inc = 1, .span = 2, .breaks = c(-15, -10, -5, 0, 5, 10, 15)`
" width="80%"><p class="caption">
Fuzzy sets with triangular membership functions for
<code>partition(x, .method = "triangle", .inc = 1, .span = 2, .breaks = c(-15, -10, -5, 0, 5, 10, 15))</code>
</p>
</div>
<p>Setting <code>.inc</code> to a value greater than 1 modifies the
shift of the window along the break points. For example, with
<code>.inc = 3</code>, the window shifts by three break points, which
effectively skips two fuzzy sets after each created fuzzy set:</p>
<div class="figure" style="text-align: center">
<img src="data-preparation_files/figure-html/unnamed-chunk-23-1.png" alt="Fuzzy sets with triangular membership functions for .inc = 3, .span = 2, .breaks = c(-15, -10, -5, 0, 5, 10, 15)`
" width="80%"><p class="caption">
Fuzzy sets with triangular membership functions for
<code>partition(x, .method = "triangle", .inc = 3, .span = 2, .breaks = c(-15, -10, -5, 0, 5, 10, 15))</code>
</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="identifying-and-removing-uninformative-columns">Identifying and Removing Uninformative Columns<a class="anchor" aria-label="anchor" href="#identifying-and-removing-uninformative-columns"></a>
</h2>
<p>When preparing data for pattern discovery, it is important to
identify and potentially remove columns that provide little or no useful
information. The <code>nuggets</code> package provides two functions for
this purpose: <code><a href="../reference/is_almost_constant.html">is_almost_constant()</a></code> and
<code><a href="../reference/remove_almost_constant.html">remove_almost_constant()</a></code>.</p>
<div class="section level3">
<h3 id="testing-for-almost-constant-columns">Testing for Almost Constant Columns<a class="anchor" aria-label="anchor" href="#testing-for-almost-constant-columns"></a>
</h3>
<p>The <code><a href="../reference/is_almost_constant.html">is_almost_constant()</a></code> function checks whether a
vector contains (almost) the same value in the majority of its elements.
This is useful for detecting low-variability or degenerate
variables.</p>
<p>The function returns <code>TRUE</code> if the proportion of the most
frequent value in the vector is greater than or equal to a specified
threshold (default is 1.0, meaning completely constant).</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Completely constant vector</span></span>
<span><span class="fu"><a href="../reference/is_almost_constant.html">is_almost_constant</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span></span>
<span><span class="co"># Variable vector</span></span>
<span><span class="fu"><a href="../reference/is_almost_constant.html">is_almost_constant</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span></span>
<span><span class="co"># Almost constant (80% are the same value)</span></span>
<span><span class="fu"><a href="../reference/is_almost_constant.html">is_almost_constant</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, threshold <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span></span>
<span><span class="co"># Not almost constant with threshold 0.8</span></span>
<span><span class="fu"><a href="../reference/is_almost_constant.html">is_almost_constant</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>, threshold <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<p>The function also handles <code>NA</code> values appropriately:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># With NA values - by default NA is treated as a regular value</span></span>
<span><span class="fu"><a href="../reference/is_almost_constant.html">is_almost_constant</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, threshold <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span></span>
<span><span class="co"># With NA removed before computing proportions</span></span>
<span><span class="fu"><a href="../reference/is_almost_constant.html">is_almost_constant</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, threshold <span class="op">=</span> <span class="fl">0.5</span>, na_rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="removing-almost-constant-columns">Removing Almost Constant Columns<a class="anchor" aria-label="anchor" href="#removing-almost-constant-columns"></a>
</h3>
<p>The <code><a href="../reference/remove_almost_constant.html">remove_almost_constant()</a></code> function extends
<code><a href="../reference/is_almost_constant.html">is_almost_constant()</a></code> to work on entire data frames. It
tests all selected columns and removes those that are almost constant
according to the specified threshold.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a data frame with some constant and variable columns</span></span>
<span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  a1 <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,              <span class="co"># variable</span></span>
<span>  a2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span>, <span class="cn">NA</span><span class="op">)</span>,        <span class="co"># variable</span></span>
<span>  b1 <span class="op">=</span> <span class="st">"b"</span>,               <span class="co"># constant</span></span>
<span>  b2 <span class="op">=</span> <span class="cn">NA</span>,                <span class="co"># constant (all NA)</span></span>
<span>  c1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span>,  <span class="co"># variable</span></span>
<span>  c2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">NA</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span>,     <span class="co"># 50% TRUE, 50% NA</span></span>
<span>  d  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="fl">4</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="fl">4</span><span class="op">)</span>, <span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>  <span class="co"># 40% TRUE, 40% FALSE, 20% NA</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Remove columns that are completely constant</span></span>
<span><span class="fu"><a href="../reference/remove_almost_constant.html">remove_almost_constant</a></span><span class="op">(</span><span class="va">d</span>, .threshold <span class="op">=</span> <span class="fl">1.0</span>, .na_rm <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 5</span></span></span>
<span><span class="co">#&gt;       a1    a2 c1    c2    d    </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1     1 TRUE  TRUE  TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     2     2 FALSE <span style="color: #BB0000;">NA</span>    TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     3     3 TRUE  TRUE  TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     4     4 FALSE <span style="color: #BB0000;">NA</span>    TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     5     5 TRUE  TRUE  FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     6     6 FALSE <span style="color: #BB0000;">NA</span>    FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     7     7 TRUE  TRUE  FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     8     8 FALSE <span style="color: #BB0000;">NA</span>    FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     9     9 TRUE  TRUE  <span style="color: #BB0000;">NA</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    10    <span style="color: #BB0000;">NA</span> FALSE <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span></span>
<span><span class="co"># Remove columns where the majority value occurs in &gt;= 50% of rows</span></span>
<span><span class="fu"><a href="../reference/remove_almost_constant.html">remove_almost_constant</a></span><span class="op">(</span><span class="va">d</span>, .threshold <span class="op">=</span> <span class="fl">0.5</span>, .na_rm <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 3</span></span></span>
<span><span class="co">#&gt;       a1    a2 d    </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1     1 TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     2     2 TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     3     3 TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     4     4 TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     5     5 FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     6     6 FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     7     7 FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     8     8 FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     9     9 <span style="color: #BB0000;">NA</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    10    <span style="color: #BB0000;">NA</span> <span style="color: #BB0000;">NA</span></span></span>
<span></span>
<span><span class="co"># Same as above, but removing NA before computing proportions</span></span>
<span><span class="fu"><a href="../reference/remove_almost_constant.html">remove_almost_constant</a></span><span class="op">(</span><span class="va">d</span>, .threshold <span class="op">=</span> <span class="fl">0.5</span>, .na_rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 2</span></span></span>
<span><span class="co">#&gt;       a1    a2</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1     1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     2     2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     3     3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     4     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     5     5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     6     6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     7     7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     8     8</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     9     9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    10    <span style="color: #BB0000;">NA</span></span></span></code></pre></div>
<p>You can also restrict the check to a subset of columns using
tidyselect syntax:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Only check columns a1 through b2</span></span>
<span><span class="fu"><a href="../reference/remove_almost_constant.html">remove_almost_constant</a></span><span class="op">(</span><span class="va">d</span>, <span class="va">a1</span><span class="op">:</span><span class="va">b2</span>, .threshold <span class="op">=</span> <span class="fl">0.5</span>, .na_rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 5</span></span></span>
<span><span class="co">#&gt;       a1    a2 c1    c2    d    </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1     1 TRUE  TRUE  TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     2     2 FALSE <span style="color: #BB0000;">NA</span>    TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     3     3 TRUE  TRUE  TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     4     4 FALSE <span style="color: #BB0000;">NA</span>    TRUE </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     5     5 TRUE  TRUE  FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     6     6 FALSE <span style="color: #BB0000;">NA</span>    FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     7     7 TRUE  TRUE  FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     8     8 FALSE <span style="color: #BB0000;">NA</span>    FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     9     9 TRUE  TRUE  <span style="color: #BB0000;">NA</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    10    <span style="color: #BB0000;">NA</span> FALSE <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span></code></pre></div>
<p>This function is particularly useful after applying
<code><a href="../reference/partition.html">partition()</a></code> to a dataset. Some of the generated predicates
may be (almost) constant and thus uninformative for pattern discovery.
Removing them can significantly speed up the subsequent mining
process.</p>
<p>For example:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Prepare mtcars data with partition - use fresh copy</span></span>
<span><span class="va">prepared_data</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">mutate</span><span class="op">(</span>cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">cyl</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">8</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"four"</span>, <span class="st">"six"</span>, <span class="st">"eight"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">cyl</span>, <span class="va">vs</span><span class="op">:</span><span class="va">gear</span>, .method <span class="op">=</span> <span class="st">"dummy"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">:</span><span class="va">carb</span>, .method <span class="op">=</span> <span class="st">"crisp"</span>, .breaks <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check for and remove any almost constant columns</span></span>
<span><span class="va">prepared_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/remove_almost_constant.html">remove_almost_constant</a></span><span class="op">(</span><span class="va">prepared_data</span>, </span>
<span>                                       .threshold <span class="op">=</span> <span class="fl">0.95</span>, </span>
<span>                                       .verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Removing (almost) constant columns:</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="finding-tautologies-in-data">Finding Tautologies in Data<a class="anchor" aria-label="anchor" href="#finding-tautologies-in-data"></a>
</h2>
<p>After preparing your data with <code><a href="../reference/partition.html">partition()</a></code> or other
methods, it can be useful to identify tautologies—rules that are always
or almost always true in your dataset. The
<code><a href="../reference/dig_tautologies.html">dig_tautologies()</a></code> function helps find such patterns, which
can then be used to filter out redundant conditions in subsequent
pattern discovery.</p>
<div class="section level3">
<h3 id="what-are-tautologies">What are Tautologies?<a class="anchor" aria-label="anchor" href="#what-are-tautologies"></a>
</h3>
<p>A tautology in this context is a rule of the form
<code>{a1 &amp; a2 &amp; ... &amp; an} =&gt; {c}</code> where the
antecedent (left side) almost always implies the consequent (right
side). These are rules that hold with very high confidence in your
specific dataset.</p>
<p>For example, in a dataset about vehicles, you might discover: -
<code>engine_type=electric =&gt; fuel_type=electricity</code>
(confidence ≈ 1.0) -
<code>manual_transmission=TRUE =&gt; automatic_transmission=FALSE</code>
(confidence = 1.0)</p>
<p>Such tautological rules, while true, may not provide interesting
insights for further analysis. Identifying them allows you to exclude
similar conditions from more complex pattern searches.</p>
</div>
<div class="section level3">
<h3 id="using-dig_tautologies">Using <code>dig_tautologies()</code><a class="anchor" aria-label="anchor" href="#using-dig_tautologies"></a>
</h3>
<p>The <code><a href="../reference/dig_tautologies.html">dig_tautologies()</a></code> function works similarly to
<code><a href="../reference/dig_associations.html">dig_associations()</a></code>, but is specifically optimized for
finding rules with very high confidence. It searches iteratively, using
tautologies found in earlier iterations to prune the search space in
later iterations.</p>
<p>Basic usage:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Prepare fuzzy data - use fresh copy of mtcars</span></span>
<span><span class="va">fuzzy_mtcars</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">mutate</span><span class="op">(</span>cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">cyl</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">8</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"four"</span>, <span class="st">"six"</span>, <span class="st">"eight"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">cyl</span>, <span class="va">vs</span><span class="op">:</span><span class="va">gear</span>, .method <span class="op">=</span> <span class="st">"dummy"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="../reference/partition.html">partition</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">:</span><span class="va">carb</span>, .method <span class="op">=</span> <span class="st">"triangle"</span>, .breaks <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create disjoint vector</span></span>
<span><span class="va">disj</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/var_names.html">var_names</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">fuzzy_mtcars</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Find tautologies with very high confidence</span></span>
<span><span class="va">tautologies</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dig_tautologies.html">dig_tautologies</a></span><span class="op">(</span></span>
<span>    <span class="va">fuzzy_mtcars</span>,</span>
<span>    antecedent <span class="op">=</span> <span class="fu">everything</span><span class="op">(</span><span class="op">)</span>,</span>
<span>    consequent <span class="op">=</span> <span class="fu">everything</span><span class="op">(</span><span class="op">)</span>,</span>
<span>    disjoint <span class="op">=</span> <span class="va">disj</span>,</span>
<span>    min_confidence <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>    min_support <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>    max_length <span class="op">=</span> <span class="fl">3</span>,</span>
<span>    t_norm <span class="op">=</span> <span class="st">"goguen"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">tautologies</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 0 × 0</span></span></span></code></pre></div>
<p>The function returns a tibble in the same format as
<code><a href="../reference/dig_associations.html">dig_associations()</a></code>, containing rules with their quality
measures (support, confidence, etc.).</p>
</div>
<div class="section level3">
<h3 id="parameters">Parameters<a class="anchor" aria-label="anchor" href="#parameters"></a>
</h3>
<p>Key parameters for <code><a href="../reference/dig_tautologies.html">dig_tautologies()</a></code> include:</p>
<ul>
<li><p><strong><code>antecedent</code></strong> and
<strong><code>consequent</code></strong>: Tidyselect expressions
defining which columns can appear on each side of the rule.</p></li>
<li><p><strong><code>disjoint</code></strong>: A vector specifying
mutually exclusive predicates (predicates that should not appear
together in the same condition).</p></li>
<li><p><strong><code>min_confidence</code></strong>: The minimum
confidence threshold. For tautologies, this should typically be set high
(e.g., 0.9 or 0.95).</p></li>
<li><p><strong><code>min_support</code></strong>: The minimum support
threshold. This ensures the tautology is based on a sufficient number of
observations.</p></li>
<li><p><strong><code>max_length</code></strong>: The maximum number of
predicates in the antecedent.</p></li>
<li><p><strong><code>t_norm</code></strong>: The t-norm to use for fuzzy
conjunction (<code>"goedel"</code>, <code>"goguen"</code>, or
<code>"lukas"</code>).</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="using-tautologies-to-filter-searches">Using Tautologies to Filter Searches<a class="anchor" aria-label="anchor" href="#using-tautologies-to-filter-searches"></a>
</h3>
<p>Once you’ve identified tautologies, you can use them with the
<code>excluded</code> argument of <code><a href="../reference/dig.html">dig()</a></code> or related
functions to avoid generating similar conditions:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Convert tautologies to excluded format</span></span>
<span><span class="va">excluded_conditions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/parse_condition.html">parse_condition</a></span><span class="op">(</span><span class="va">tautologies</span><span class="op">$</span><span class="va">antecedent</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use in subsequent pattern search</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dig_associations.html">dig_associations</a></span><span class="op">(</span></span>
<span>    <span class="va">fuzzy_mtcars</span>,</span>
<span>    antecedent <span class="op">=</span> <span class="op">!</span><span class="fu">starts_with</span><span class="op">(</span><span class="st">"am"</span><span class="op">)</span>,</span>
<span>    consequent <span class="op">=</span> <span class="fu">starts_with</span><span class="op">(</span><span class="st">"am"</span><span class="op">)</span>,</span>
<span>    disjoint <span class="op">=</span> <span class="va">disj</span>,</span>
<span>    excluded <span class="op">=</span> <span class="va">excluded_conditions</span>,  <span class="co"># Exclude tautological patterns</span></span>
<span>    min_support <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>    min_confidence <span class="op">=</span> <span class="fl">0.8</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This approach can significantly reduce computation time and help
focus on more interesting patterns.</p>
</div>
</div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<p>This vignette covered the essential data preparation techniques in
the <code>nuggets</code> package:</p>
<ol style="list-style-type: decimal">
<li>
<p><strong><code><a href="../reference/partition.html">partition()</a></code></strong>: The primary function
for transforming data into crisp or fuzzy predicates, with support for
various partitioning methods including:</p>
<ul>
<li>Crisp (Boolean) partitioning with configurable intervals</li>
<li>Triangular and raised-cosine fuzzy sets</li>
<li>Trapezoidal fuzzy sets using <code>.span</code> and
<code>.inc</code> parameters</li>
</ul>
</li>
<li><p><strong><code><a href="../reference/is_almost_constant.html">is_almost_constant()</a></code></strong> and
<strong><code><a href="../reference/remove_almost_constant.html">remove_almost_constant()</a></code></strong>: Utility
functions for identifying and removing uninformative columns that have
low variability.</p></li>
<li><p><strong><code><a href="../reference/dig_tautologies.html">dig_tautologies()</a></code></strong>: A function for
finding tautological rules in your data, which can be used to filter
subsequent pattern searches.</p></li>
</ol>
<p>With these tools, you can effectively prepare your data for pattern
discovery using the various <code>dig_*()</code> functions provided by
the <code>nuggets</code> package. For information on pattern discovery
itself, see the main “Getting Started” vignette and the function
documentation.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michal Burda.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
